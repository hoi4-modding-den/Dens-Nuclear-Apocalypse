add_namespace = XRP_focus_event
add_namespace = XRP_natural_event
add_namespace = XRP_news_event
add_namespace = XRP_diplo_event
add_namespace = XRP_annex_event

#Natural Events#
country_event = { #intro event
    id = XRP_natural_event.1
    title = XRP.NE_1.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_1.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_1.a
		ai_chance = {
			base = 100
		}
	hidden_effect = {
			country_event = { id = XRP_natural_event.2 days = 35 }
			country_event = { id = XRP_natural_event.7 days = 80 }
		}
    	}
}

country_event = { #dinner scene
    id = XRP_natural_event.2
    title = XRP.NE_2.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_2.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_2.a
		ai_chance = {
			base = 100
		}
			add_popularity = {
				ideology = communism
				popularity = 0.01
			}
    	}
}
country_event = { #german overthrow
    id = XRP_natural_event.3
    title = XRP.NE_3.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_3.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_3.a
		ai_chance = {
			base = 100
		}
			news_event = {id = XRP_news_event.1}
			add_named_threat = {
				threat = 5
				name = XRP_violent_overthrow
			}
			set_politics = {
    				ruling_party = neutrality
    				elections_allowed = no
    				long_name = XRP_german_party_initial_long
    				name = XRP_german_party_initial
			}
			set_party_name = {
   				ideology = fascism
    				long_name = XRP_americans_overthrown_long
    				name = XRP_americans_overthrown
			}
			add_stability = -0.10
    	}
}
country_event = { #german overthrow alt
    id = XRP_natural_event.4
    title = XRP.NE_3.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_4.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_3.a
		ai_chance = {
			base = 100
		}
			news_event = { id = XRP_news_event.1}
			add_named_threat = {
				threat = 5
				name = XRP_violent_overthrow
			}
			set_politics = {
    				ruling_party = neutrality
    				elections_allowed = no
    				long_name = XRP_german_party_initial_long
    				name = XRP_german_party_initial
			}
			set_party_name = {
   				ideology = fascism
    				long_name = XRP_americans_overthrown_long
    				name = XRP_americans_overthrown
			}
			add_stability = -0.10
    	}
}

country_event = { #communist overthrow
    id = XRP_natural_event.5
    title = XRP.NE_5.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_5.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_5.a
		ai_chance = {
			base = 100
		}
			news_event = {id = XRP_news_event.2}
			add_named_threat = {
				threat = 5
				name = XRP_violent_overthrow
			}
			set_politics = {
    				ruling_party = communism
    				elections_allowed = no
    				long_name = XRP_communist_initial_long
    				name = XRP_communist_initial
			}
			remove_power_balance = {
				id = XRP_fascist_balance 
			}
			add_stability = -0.10
			hidden_effect = {
				set_cosmetic_tag = XRP_communist_color 
				remove_opinion_modifier = {
					target = XAD
					modifier = XRP_Anti-Muslim
				}
				remove_opinion_modifier = {
					target = XTR
					modifier = XRP_Anti-Muslim
				}
				remove_opinion_modifier = {
					target = XAP
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XGE
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XOO
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XSH
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XTI 
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XSS 
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XNL
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XLX
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XJY
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XDK
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XAL
					modifier = XRP_Anti-German_Confused 
				}
			}
    	}
}

country_event = { #democratic overthrow
    id = XRP_natural_event.6
    title = XRP.NE_6.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_6.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_6.a
		ai_chance = {
			base = 100
		}
			news_event = {id = XRP_news_event.2}
			add_named_threat = {
				threat = 5
				name = XRP_violent_overthrow
			}
			set_politics = {
    				ruling_party = democratic
    				elections_allowed = no
    				long_name = XRP_democratic_initial_long
    				name = XRP_democratic_initial
			}
			remove_power_balance = {
				id = XRP_fascist_balance 
			}
			add_stability = -0.10
			hidden_effect = {
				set_cosmetic_tag = XRP_democratic_color
				remove_opinion_modifier = {
					target = XAD
					modifier = XRP_Anti-Muslim
				}
				remove_opinion_modifier = {
					target = XTR
					modifier = XRP_Anti-Muslim
				}
				remove_opinion_modifier = {
					target = XAP
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XGE
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XOO
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XSH
					modifier = XRP_Anti-German 
				}
				remove_opinion_modifier = {
					target = XTI 
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XSS 
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XNL
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XLX
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XJY
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XDK
					modifier = XRP_Anti-German_Confused 
				}
				remove_opinion_modifier = {
					target = XAL
					modifier = XRP_Anti-German_Confused 
				}
			}
    	}
}

country_event = { #meeting with general
    id = XRP_natural_event.7
    title = XRP.NE_7.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.NE_7.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.NE_7.a
		ai_chance = {
			base = 100
		}
    	}
}

#News Events#
news_event = { #German Overthrow of American Government
    id = XRP_news_event.1
    title = XRP.WE_1.t
    picture = GFX_news_event_ger_civil_war
    desc = XRP.WE_1.d
    major = yes
    is_triggered_only = yes
    fire_only_once = no
	option = {
       		name = XRP.WE_1.a
			trigger = {
				NOT = { has_government = communism}
           		NOT = { tag = XRP }
            	NOT = { tag = XGE }
            	NOT = { tag = XAP }
           		NOT = { tag = XOO }
            	NOT = { tag = XLH }
            	NOT = { tag = XSH }
				NOT = { tag = LIB }
    		}
	}
	option = { 
		name = XRP.WE_1.c
		trigger = {	
			tag = XRP 
		}
	}
	option = {#I spent like an hour on this and I couldn't figure out for the life of me how to put this all in one option, so I just made a bunch of identical options
        name = XRP.WE_1.b
		trigger = {	
			has_government = communism 
		}
	}

	option = {
        name = XRP.WE_1.b
		trigger = {	
			tag = XOO 
		}
	}
	option = {
        name = XRP.WE_1.b
		trigger = {	
			tag = XAP 
		}
	}
	option = {
        name = XRP.WE_1.b
		trigger = {	
			tag = XSH
		}
	}
	option = {
        name = XRP.WE_1.b
		trigger = {	
			tag = XLH
		}
	}
	option = {
		name = XRP.WE_1.e
		trigger = {	
			tag = LIB
		}
	}
}
news_event = { #Assassination of Cavoli
    id = XRP_news_event.2
    title = XRP.WE_2.t
    picture = GFX_news_event_ITA_mussolini_execution
    desc = XRP.WE_2.d
    major = yes
    is_triggered_only = yes
    fire_only_once = no
	option = {
       		name = XRP.WE_2.a
	}
}

#Focus Events#
country_event = { #massacure in Nurburg
    id = XRP_focus_event.1
    title = XRP.FE_1.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.FE_1.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.FE_1.a
		add_stability = -0.05
		983 = {
                    add_manpower = -53
          	}
		ai_chance = {
			base = 100
		}
    	}
}

country_event = { #ceremony event
    id = XRP_focus_event.2
    title = XRP.FE_2.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.FE_2.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.FE_2.a
			set_country_flag = XRP_flag1
			kill_country_leader = yes
			load_focus_tree = { tree = XRP_actual_fascist_tree  keep_completed = yes }
			complete_national_focus = XRP_rip_idiot
			set_power_balance = {
				id = XRP_fascist_balance
			}
			promote_character = XRP_Council 
			add_stability = -0.15
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.075
			}
			add_political_power = -100
			news_event = {id = XRP_news_event.2}
		ai_chance = {
			base = 100
		}
    	}
}

#economy events#
country_event = {
    id = XRP_focus_event.3 #the question of industry
    title = XRP.FE_eco1.t
    picture = GFX_report_event_spr_civil_war_faction_defeated
    desc = XRP.FE_eco1.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.FE_eco1.a
		ai_chance = {
			base = 50
		}
			983 = {
				set_state_category = large_town
				add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
					}
			
			}
			42 = {
				add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
					}
			
			}
		hidden_effect = {
			983 = {
			damage_building = {
				type = industrial_complex
				damage = 2.5
			}
			}
			42 = {
				damage_building = {
					type = industrial_complex
					damage = 2.5
				}
				}
		}
    	}
	option = {
        name = XRP.FE_eco1.b
		ai_chance = {
			base = 50
		}
		983 = {
			set_state_category = large_town
			add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
				}
		
		}
		42 = {
			add_building_construction = {
			type = industrial_complex
			level = 2
			instant_build = yes
				}
		
		}
    	}
}
country_event = {
    id = XRP_focus_event.4 #the question of agriculture
    title = XRP.FE_eco2.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.FE_eco2.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.FE_eco2.a
		ai_chance = {
			base = 100
		}
    	}
	option = {
        name = XRP.FE_eco2.b
		ai_chance = {
			base = 100
		}
    	}
}
country_event = {
    id = XRP_focus_event.5 #miltary industry event
    title = XRP.FE_eco3.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.FE_eco3.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.FE_eco3.a
		ai_chance = {
			base = 100
		}
    	}
	option = {
        name = XRP.FE_eco3.b
		ai_chance = {
			base = 100
		}
    	}
}

#annexation events#
country_event = {
    id = XRP_annex_event.1 #france
    title = XRP.AE_1.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.AE_1.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.AE_1.a
		ai_chance = {
			base = 100
		}
		#set_country_flag = XRP_french_states_annexed #temp until puppet added
		create_dynamic_country = {
			original_tag = XPR
			set_country_flag = XRP_french_puppet
			transfer_state = 705
			set_cosmetic_tag = XRP_france
		}
		every_country = {
			limit = { has_country_flag = XRP_french_puppet }
			XRP = {
				puppet = PREV 
			}
			every_state = {
				limit = {
					has_state_flag = annexation_trigger_french 
					is_owned_by = XRP
				}
				transfer_state_to = PREV
			} 
			every_state = {
				limit = {
					has_state_flag = annexation_trigger_french
				}
				add_core_of = PREV
			} 
		}
		LIB = { transfer_state = 705 }
		
	}
 #note - later, add an option for player to annex Calais/Alsace-Lorraine and still be allowed to make a french puppet later
	
		option = {
			name = XRP.AE_1.b
			ai_chance = {
				base = 0
			}
			set_country_flag = XRP_french_states_annexed
			add_political_power = -100
			add_stability = -0.1
			add_war_support = -0.1
		}
	
}

	



#easter egg event#
country_event = {
    id = XRP_focus_event.false_8
    title = XRP.FE_false_8.t
    # picture = GFX_report_event_DEN_celebration
    desc = XRP.FE_false_8.d

    is_triggered_only = yes
    fire_only_once = no
	option = {
        name = XRP.FE_false_8.a
		add_political_power = -1000
		custom_effect_tooltip = XRP_snarky_tooltip
		ai_chance = {
			base = 100
		}
    	}
}
focus_tree = {
	id = XFR_focus_tree
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = XFR
		}
	}
	
	default = no
	
	continuous_focus_position = { x = 0 y = 2200 }

# POLITICS

	focus = {
		id = XFR_support_parliament
		icon = GFX_focus_generic_treaty
		#prerequisite = { focus =  }
		mutually_exclusive = { focus = XFR_dennounce_democracy }
		x = 10
		y = 0
		#relative_position_id = 

		available = {
			has_government = democratic
		}

		bypass = {
			has_country_flag = XFR_2236_elections_over
		}

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = XFR_dennounce_democracy
				}
			}
		}

		offset = {
			x = 3
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		cost = 5

		ai_will_do = {
			factor = 100
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = XFR_prepare_for_elections
		icon = GFX_goal_support_democracy
		prerequisite = { focus = XFR_support_parliament }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_support_parliament

		available = {
			has_government = democratic
		}

		bypass = {
			has_country_flag = XFR_2236_elections_over
		}

		cost = 5

		ai_will_do = {
			factor = 10
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			custom_effect_tooltip = XFR_prepare_for_elections_tt
		}
	}

	focus = {
		id = XFR_raid_fascist_hideouts
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = XFR_prepare_for_elections }
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = XFR_prepare_for_elections

		available = {
			has_government = democratic
		}

		bypass = {
			has_country_flag = XFR_2236_elections_over
		}

		cost = 5

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
			remove_ideas = XFR_fascist_tensions
			add_timed_idea = {
				idea = XFR_fascism_banned
				days = 180
			}
		}
	}

	focus = {
		id = XFR_work_with_anarchists
		icon = GFX_focus_generic_workers_and_farmers_rise
		prerequisite = { focus = XFR_prepare_for_elections }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = XFR_prepare_for_elections

		available = {
			has_government = democratic
		}

		bypass = {
			has_country_flag = XFR_2236_elections_over
		}

		cost = 5

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			if = {
				limit = { 18 = { has_dynamic_modifier = { modifier = XFR_anarchists_state_modifier } } }
				18 = {
					set_demilitarized_zone = no
					remove_dynamic_modifier = { modifier = XFR_anarchists_state_modifier }
				}
			}
			add_timed_idea = {
				idea = XFR_anarchists_appeased
				days = 365
			}
		}
	}

	focus = {
		id = XFR_arrest_the_duke
		icon = GFX_focus_ARG_crackdown_on_corruption
		prerequisite = { focus = XFR_raid_fascist_hideouts }
		prerequisite = { focus = XFR_work_with_anarchists }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_prepare_for_elections

		available = {
			has_government = democratic
		}

		bypass = {
			has_country_flag = XFR_2236_elections_over
		}

		cost = 5

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}
			remove_ideas = XFR_herzogs_speeches
		}
	}

	focus = {
		id = XFR_elections
		icon = GFX_focus_NOR_restore_public_trust_in_the_storting
		prerequisite = { focus = XFR_arrest_the_duke }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 4
		relative_position_id = XFR_support_parliament

		available = {
			has_government = democratic
			has_country_flag = XFR_2236_elections_over
		}

		cost = 0.2

		ai_will_do = {
			factor = 1
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_political_power = 150
			custom_effect_tooltip = XFR_elections_tt
			hidden_effect = {
				set_country_flag = XFR_times_of_turmoil
			}
		}
	}

	focus = {
		id = XFR_investigate_centre
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = XFR_support_parliament focus = XFR_dennounce_democracy }
		#mutually_exclusive = { focus =  }
		x = 13
		y = 1
		#relative_position_id = XFR_support_parliament

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
		}

		bypass ={
			OR = {
				NOT = { 24 = { is_owned_and_controlled_by = ROOT } }
				NOT = { 24 = { has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } } }
			}
		}

		offset = {
			x = 3
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		offset = {
			x = -3
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		cost = 4

		ai_will_do = {
			factor = 100
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			hidden_effect = { news_event = { id = XFR_news_events.5 } }
			add_equipment_to_stockpile = {
    			type = infantry_equipment
    			amount = 250
    			producer = FRA
			}
		}
	}


	focus = {
		id = XFR_deal_with_the_mutants
		icon = GFX_focus_generic_total_war
		prerequisite = { focus = XFR_investigate_centre }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_investigate_centre

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
		}

		bypass ={
			OR = {
				NOT = { 24 = { is_owned_and_controlled_by = ROOT } }
				NOT = { 24 = { has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } } }
			}
		}

		cost = 4

		ai_will_do = {
			factor = 100
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_deal_with_the_mutants_tt
			add_political_power = 50
		}
	}

	focus = {
		id = XFR_crisis_averted
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = XFR_deal_with_the_mutants }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_deal_with_the_mutants

		available = {
			24 = {
				OR = {
					NOT = { is_owned_and_controlled_by = ROOT }
					NOT = {has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
				}
			}
		}

		bypass ={
			NOT = {has_idea = XFR_chaos_in_centre }
			24 = { is_demilitarized_zone = no }
		}

		cost = 2

		ai_will_do = {
			factor = 1000
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			24 = { set_demilitarized_zone = no }
			remove_ideas = { XFR_chaos_in_centre }
		}
	}

	focus = {
		id = XFR_revitalise_industry
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = XFR_crisis_averted

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			if = {
				limit = { has_idea = XFR_chaos_in_centre2 }
				NOT = { has_idea = XFR_chaos_in_centre2 }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			24 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
    				type = industrial_complex
    				level = 2
    				instant_build = yes
				}
				add_resource = {
				    type = tungsten
				    amount = 5
				}
			}
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}

	focus = {
		id = XFR_colonise_centre
		icon = GFX_focus_generic_land_reclamation
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = XFR_crisis_averted

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			if = {
				limit = { has_idea = XFR_chaos_in_centre2 }
				NOT = { has_idea = XFR_chaos_in_centre2 }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = {  FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_stability = 0.1
			24 = {
				add_manpower = 15000
				add_extra_state_shared_building_slots = 2
				add_dynamic_modifier = {
					modifier = XFR_colonisation_state_modifier
				}
			}
		}
	}

	focus = {
		id = XFR_stabilise_the_republic
		icon = GFX_focus_ARG_defense_and_democracy
		prerequisite = { focus = XFR_elections }
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = XFR_elections

		available = {
			has_government = democratic
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_stability = 0.25
		}
	}

	focus = {
		id = XFR_democracy_prevails
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = XFR_stabilise_the_republic }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_stabilise_the_republic

		available = {
			has_government = democratic
			is_subject = no
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
			add_ideas = XFR_torch_of_democracy
			hidden_effect = {
				news_event = { id = XFR_news_events.6 }
			}
		}
	}

	focus = {
		id = XFR_european_ambitions
		icon = GFX_focus_usa_focus_on_europe
		prerequisite = { focus = XFR_democracy_prevails }
		#mutually_exclusive = { focus =  }
		x = -6
		y = 2
		relative_position_id = XFR_democracy_prevails

		available = {
			has_government = democratic
			is_subject = no
			is_in_faction = no
		}

		bypass = {
			has_government = democratic
			is_faction_leader = yes
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_war_support = 0.1
			set_rule = {
    			can_create_factions = yes
				can_send_volunteers = yes
			}
			XFR_create_faction = yes
		}
	}

	focus = {	
		id = XFR_economic_cooperation
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = XFR_european_ambitions }
		x = -3
		y = 1
		relative_position_id = XFR_european_ambitions

		available = {
			has_government = democratic
			is_subject = no
			NOT = { has_idea = closed_economy }
		}

		bypass = {

		}

		cost = 2

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_political_power = 75
			custom_effect_tooltip = XFR_economic_cooperation_tt
		}
	}

	focus = {
		id = XFR_england_focus
		icon = GFX_focus_eng_the_sun_never_sets
		prerequisite = { focus = XFR_european_ambitions }
		#mutually_exclusive = { focus =  }
		x = -6
		y = 2
		relative_position_id = XFR_european_ambitions

		available = {
			has_government = democratic
			is_subject = no
		}

		bypass = {
			has_government = democratic
			XNE = { NOT = { has_government = democratic } }
			XNM = { NOT = { has_government = democratic } }
		}

		cost = 4

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
			if = {
				limit = { XNE = { has_government = democratic } }
				reverse_add_opinion_modifier = {
					target = XNE
    				modifier = XFR_improve_relations
				}
			}
			if = {
				limit = { XNM = { has_government = democratic } }
				reverse_add_opinion_modifier = {
					target = XNM
    				modifier = XFR_improve_relations
				}
			}
		}
	}

	focus = {
		id = XFR_across_the_channel
		icon = GFX_focus_generic_befriend_denmark
		prerequisite = { focus = XFR_england_focus }
		mutually_exclusive = { focus = XFR_across_the_channel2 focus = XFR_intervention_in_england }
		x = -2
		y = 1
		relative_position_id = XFR_england_focus

		available = {
			is_faction_leader = yes
			has_government = democratic
			XNE = {
				has_government = democratic
			}
			is_subject = no
			XNE = {
				is_subject = no
				is_in_faction = no
				NOT = { has_completed_focus = XNE_isolation }
			}
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {
			OR = {
				AND = {
					XNE = { is_ally_with = ROOT }
					is_subject = no
				}
				XNE = { has_war_with = ROOT }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				XNE = { has_war = yes }
			}
		}
		search_filters = { }
		completion_reward = {
			XNE = { country_event = { id = XFR_events.22 days = 1 } }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_to_faction = XNE
			}
			custom_effect_tooltip = XFR_across_the_channel_tt
		}
	}

	focus = {
		id = XFR_across_the_channel2
		icon = GFX_focus_generic_befriend_mercia
		prerequisite = { focus = XFR_england_focus }
		mutually_exclusive = { focus = XFR_across_the_channel focus = XFR_intervention_in_england }
		x = 0
		y = 1
		relative_position_id = XFR_england_focus

		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
			has_government = democratic
			XNM = {
				has_government = democratic
			}
			is_subject = no
			XNM = {
				is_subject = no
			}
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {
			OR = {
				AND = {
					XNM = { is_ally_with = ROOT }
					is_subject = no
				}
				XNM = { has_war_with = ROOT }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				XNM = { has_war = yes }
			}
		}
		search_filters = { }
		completion_reward = {
			
		}
	}

	focus = {
		id = XFR_intervention_in_england
		icon = GFX_focus_attack_britain
		prerequisite = { focus = XFR_england_focus focus = XFR_england_focus }
		mutually_exclusive = { focus = XFR_across_the_channel focus = XFR_across_the_channel2 }
		x = 2
		y = 1
		relative_position_id = XFR_england_focus

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
			
		}
	}

	focus = {
		id = XFR_guarantee_swiss_freedom
		icon = GFX_focus_SWI_swiss_guiding_principles
		prerequisite = { focus = XFR_european_ambitions }
		mutually_exclusive = { focus = XFR_rescue_the_swiss }
		x = -9
		y = 1
		relative_position_id = XFR_european_ambitions

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			XSS = {
				has_government = democratic
				NOT = { has_war_with = ROOT }
				has_completed_focus = XSS_triumph_of_democracy
			}
		}

		bypass = {
			XSS = {
				OR = {
					is_ally_with = ROOT
					is_guaranteed_by = ROOT
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 100
		}
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
		completion_reward = {
			give_guarantee = XSS
			add_political_power = 100
		}
	}

	focus = {
		id = XFR_rescue_the_swiss
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = XFR_european_ambitions }
		mutually_exclusive = { focus = XFR_guarantee_swiss_freedom }
		x = -2
		y = 0
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			XSS = {
				NOT = { has_government = democratic }
				NOT = { is_ally_with = ROOT }
			}
		}

		bypass = {
			XSS = {
				has_war_with = ROOT
			}
		}

		cost = 5

		ai_will_do = {
			factor = 100
		}
		search_filters = { }
		completion_reward = {
			create_wargoal = {
				target = XSS
				type = puppet_wargoal_focus
			}
		}
	}

	focus = {
		id = XFR_protect_switzerland
		icon = GFX_focus_XFR_protect_switzerland
		prerequisite = { focus = XFR_guarantee_swiss_freedom focus = XFR_rescue_the_swiss }
		mutually_exclusive = { focus = XFR_swiss_burgundian_alliance }
		x = -2
		y = 1
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			XSS = {
				has_government = democratic
				NOT = { has_war_with = ROOT }
				is_in_faction = no
				is_subject = no
				has_completed_focus = XSS_triumph_of_democracy
			}
		}

		bypass = {
			XSS = {
				is_subject_of = ROOT
			}
		}

		cost = 5

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				XSS = { is_ai = yes }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			XSS = { country_event = { id = XFR_events.32 days = 1 } }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				set_autonomy = {
    				target = XSS
    				autonomous_state = autonomy_puppet
    				end_wars = no
    				end_civil_wars = no
				}
				XSS = { add_ideas = XFR_swiss_protectorate }
			}
		}
	}

	focus = {
		id = XFR_swiss_burgundian_alliance
		icon = GFX_focus_generic_befriend_switzerland
		prerequisite = { focus = XFR_guarantee_swiss_freedom focus = XFR_rescue_the_swiss }
		mutually_exclusive = { focus = XFR_protect_switzerland }
		x = 0
		y = 1
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			XSS = {
				has_government = democratic
				NOT = { has_war_with = ROOT }
				has_completed_focus = XSS_triumph_of_democracy
			}
		}

		bypass = {
			XSS = {
				is_in_faction_with = ROOT
			}
		}

		cost = 5

		ai_will_do = {
			factor = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			XSS = { country_event = { id = XFR_events.22 days = 1 } }
			ai_strategy = {
    			type = alliance
    			id = XSS
    			value = 1000
			}
			XSS = {
				ai_strategy = {
    				type = alliance
    				id = XFR
    				value = 1000
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_to_faction = XSS
				every_other_country = {
					limit = { is_in_faction_with = XSS }
					ROOT = { add_to_faction = PREV }
				}
			}
		}
	}

	focus = {
		id = XFR_the_two_democracies
		icon = GFX_focus_XFR_swiss_burgundian_alliance
		prerequisite = { focus = XFR_swiss_burgundian_alliance focus = XFR_protect_switzerland }
		#mutually_exclusive = {  }
		x = -1
		y = 2
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			if = {
				limit = { XSS = { NOT = { is_subject_of = ROOT } } }
				is_faction_leader = yes
			}
			XSS = {
				has_government = democratic
				is_ally_with = ROOT
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 100
			add_ideas = XFR_swiss_burgundian_democracy
			XSS = {
				add_political_power = 100
				add_ideas = XFR_swiss_burgundian_democracy
			}
		}
	}

	focus = {
		id = XFR_iberian_relations
		icon = GFX_focus_por_iberian_summit
		prerequisite = { focus = XFR_european_ambitions }
		#mutually_exclusive = { focus =  }
		x = -14
		y = 2
		relative_position_id = XFR_european_ambitions

		available = {
			has_government = democratic
			is_subject = no
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
			
		}
	}

	focus = {
		id = XFR_portugese_support
		icon = GFX_focus_generic_befriend_portugal_galicia
		prerequisite = { focus = XFR_iberian_relations }
		mutually_exclusive = { focus = XFR_direct_iberian_intervention focus = XFR_cordoba_support }
		x = 2
		y = 1
		relative_position_id = XFR_iberian_relations

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
		}
	} 

	focus = {
		id = XFR_cordoba_support
		icon = GFX_focus_generic_befriend_cordoba
		prerequisite = { focus = XFR_iberian_relations }
		mutually_exclusive = { focus = XFR_direct_iberian_intervention focus = XFR_portugese_support }
		x = 0
		y = 1
		relative_position_id = XFR_iberian_relations

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
		}
	} 

	focus = {
		id = XFR_direct_iberian_intervention
		icon = GFX_focus_generic_free_iberia
		prerequisite = { focus = XFR_iberian_relations }
		mutually_exclusive = { focus = XFR_cordoba_support focus = XFR_portugese_support }
		x = -2
		y = 1
		relative_position_id = XFR_iberian_relations

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
		}
	} 

	focus = {
		id = XFR_little_entente
		dynamic = yes 
		icon = {
			trigger = {
				has_completed_focus = XFR_cordoba_support
			}
			value = GFX_focus_XFR_little_entente_cordoba
		}
		icon = {
			trigger = {
				has_completed_focus = XFR_portugese_support
			}
			value = GFX_focus_XFR_little_entente_portugal_galicia
		}
		icon = {
			trigger = {
				has_completed_focus = XFR_across_the_channel
			}
			value = GFX_focus_XFR_little_entente_new_new_england
		}
		icon = {
			trigger = {
				NOT = { has_completed_focus = XFR_across_the_channel }
				NOT = { has_completed_focus = XFR_portugese_support }
				NOT = { has_completed_focus = XFR_across_the_channel }
			}
			value = GFX_focus_XFR_little_entente_base
		}
		prerequisite = { focus = XFR_portugese_support focus = XFR_cordoba_support focus = XFR_across_the_channel }
		prerequisite = { focus = XFR_the_two_democracies }
		mutually_exclusive = { focus = XFR_alliance_of_free_nations }
		x = -4
		y = 3
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
			
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
		}
	} 

	focus = {
		id = XFR_alliance_of_free_nations
		icon = GFX_focus_XFR_democratic_alliance
		prerequisite = { focus = XFR_portugese_support focus = XFR_cordoba_support focus = XFR_direct_iberian_intervention }
		prerequisite = { focus = XFR_the_two_democracies }
		prerequisite = { focus = XFR_across_the_channel focus = XFR_intervention_in_england }
		mutually_exclusive = { focus = XFR_little_entente }
		x = -1
		y = 3
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
			
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
		}
	} 

	focus = {
		id = XFR_great_economic_bloc
		icon = GFX_focus_XFR_great_economic_bloc
		prerequisite = { focus = XFR_across_the_channel2 }
		prerequisite = { focus = XFR_the_two_democracies }
		#mutually_exclusive = { focus = }
		x = 2
		y = 3
		relative_position_id = XFR_guarantee_swiss_freedom

		available = {
			has_government = democratic
			is_subject = no
			is_faction_leader = yes
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
			
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
		}
	} 

	focus = {
		id = XFR_french_reunification
		icon = GFX_focus_focus_fra_border
		prerequisite = { focus = XFR_european_ambitions }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_european_ambitions

		available = {
			has_completed_focus = XFR_the_dream_of_france
		}

		bypass = {
		}

		cost = 1

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_war_support = 0.25
			custom_effect_tooltip = XFR_french_reunification_tt
		}
	}

	focus = {
		id = XFR_strike_the_madman
		icon = GFX_focus_XFR_attack_lesser_gaul
		prerequisite = { focus = XFR_french_reunification }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_french_reunification

		available = {
			has_government = democratic
			is_neighbor_of = XAQ
			is_subject = no
			NOT = { is_ally_with = XAQ }
			XAQ = {
				has_government = fascism
			}
		}

		bypass = {
			XAQ = {
				OR = {
					is_ally_with = ROOT
					has_war_with = ROOT
					exists = no
					NOT = { has_government = fascism }
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = XAQ
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			create_wargoal = {
				target = XAQ
				type = annex_everything
			}
		}
	}


	focus = {
		id = XFR_paris_conference
		icon = GFX_focus_generic_befriend_paris
		prerequisite = { focus = XFR_french_reunification }
		#mutually_exclusive = { focus =  }
		x = -2
		y = 1
		relative_position_id = XFR_french_reunification

		available = {
			has_government = democratic
			16 = {
				is_owned_and_controlled_by = XPR
			}
			is_subject = no
		}

		bypass = {
			OR = {
				XPR = {
					is_subject_of = ROOT
					has_war_with = ROOT
					exists = no
				}
				16 = { is_owned_and_controlled_by = ROOT }
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			if = {
				limit = {
					XPR = {
						OR = {
							has_government = fascism
							has_government = communism
							is_subject = yes
						}
					}
				}
				create_wargoal = {
					target = XPR
					type = take_state_focus
					generator = { 16 }
				}
			}
			else = {
				country_event = { id = XFR_events.17 }
				custom_effect_tooltip = XFR_paris_con_acceptance_triggers_tt
			}
		}
	}

	focus = {
		id = XFR_norman_invasion
		icon = GFX_focus_up_joan_of_arc
		prerequisite = { focus = XFR_paris_conference }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_paris_conference

		available = {
			has_government = democratic
			is_neighbor_of = XLF
			is_subject = no
			NOT = { is_ally_with = XLF }
		}

		bypass = {
			XLF = {
				OR = {
					is_ally_with = ROOT
					has_war_with = ROOT
					exists = no
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = XLF
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				target = XLF
				type = annex_everything
			}
		}
	}

	focus = {	
		id = XFR_alcase_lorraine_diplomacy
		icon = GFX_focus_generic_befriend_alsace
		prerequisite = { focus = XFR_european_ambitions }
		x = 2
		y = 1
		relative_position_id = XFR_european_ambitions

		available = {
		}

		bypass = {
			XAL = {
				OR = { 
					has_government = fascism 
					has_war_with = ROOT
					is_ally_with = ROOT
					exists = no
				}		
			}
		}

		cost = 2

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			reverse_add_opinion_modifier = {
				target = XAL
    			modifier = XFR_improve_relations
			}
			custom_effect_tooltip = XFR_alcase_lorraine_diplomacy_tt
		}
	}

	focus = {	
		id = XFR_ultimatum_to_alcase_lorraine
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = XFR_alcase_lorraine_diplomacy }
		x = 0
		y = 2
		relative_position_id = XFR_alcase_lorraine_diplomacy

		available = {
		}

		bypass = {
			XAL = {
				OR = {
					has_war_with = ROOT
					exists = no
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		will_lead_to_war_with = XAL

		completion_reward = {
			XAL = {
				country_event = { id = XFR_events.6 days = 3 }
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				annex_country = {
    				target = XAL
    				transfer_troops = no
				}
				every_state = {
					limit = { is_core_of = XAL }
					add_core_of = XFR
				}
				XAL_characters_join_XFR = yes
			}
			
			custom_effect_tooltip = XFR_ultimatum_to_alcase_lorraine_tt
			
		}
	}

	focus = {
		id = XFR_invitation
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = XFR_norman_invasion }
		prerequisite = { focus = XFR_strike_the_madman }
		prerequisite = { focus = XFR_ultimatum_to_alcase_lorraine }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 3
		relative_position_id = XFR_french_reunification

		available = {
			has_government = democratic
			is_subject = no
		}

		bypass = {
			OR = {
				NOT = {
					any_other_country = {
						any_core_state = {
							DEN_is_french_state = yes
						}
						NOT = { has_war_with = ROOT }
						OR = {
							has_government = democratic
							is_ally_with = ROOT
						}
					}
				}
				DEN_controls_french_states = yes
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			custom_effect_tooltip = XFR_invitation_tt
			every_other_country = {
				limit = {
					any_core_state = {
						DEN_is_french_state = yes
					}
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = democratic
						is_ally_with = ROOT
					}
				}
				country_event = { id = XFR_events.27 days = 1 }
			}
		}
	}

	focus = {
		id = XFR_take_down_stragglers
		icon = GFX_focus_XFR_restore_france
		prerequisite = { focus = XFR_invitation }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_invitation

		available = {
			has_government = democratic
			is_subject = no
		}

		bypass = {
			DEN_controls_french_states = yes
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			custom_effect_tooltip = XFR_take_down_stragglers_tt
		}
	}

	focus = {
		id = XFR_lessen_internal_borders
		icon = GFX_focus_SWI_fortify_border_with_france
		prerequisite = { focus = XFR_democracy_prevails }
		#mutually_exclusive = { focus =  }
		x = -2
		y = 1
		relative_position_id = XFR_democracy_prevails

		available = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_lessen_internal_borders_tt
		}
	}

	focus = {
		id = XFR_expand_the_capital
		icon = GFX_focus_spa_the_spanish_miracle
		prerequisite = { focus = XFR_democracy_prevails }
		#mutually_exclusive = { focus =  }
		x = 2
		y = 1
		relative_position_id = XFR_democracy_prevails

		available = {
			has_government = democratic
			capital_scope = {
				is_fully_controlled_by = ROOT
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = {  }
		completion_reward = {
			capital_scope = {
				add_extra_state_shared_building_slots = 2
			}
		}
	}


	focus = {
		id = XFR_reform_the_government
		icon = GFX_focus_hol_the_foundations_of_defense
		prerequisite = { focus = XFR_democracy_prevails }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_democracy_prevails

		available = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_political_power = 100
		}
	}

	focus = {
		id = XFR_federalists
		icon = GFX_focus_fra_french_union
		prerequisite = { focus = XFR_reform_the_government }
		mutually_exclusive = { focus = XFR_restaurationists }
		x = 2
		y = 1
		relative_position_id = XFR_reform_the_government

		available = {
			has_government = democratic
			power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value > 0.3
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 100
		}
	}

	focus = {
		id = XFR_restaurationists
		icon = GFX_focus_fra_le_deluge
		prerequisite = { focus = XFR_reform_the_government }
		mutually_exclusive = { focus = XFR_federalists }
		x = -2
		y = 1
		relative_position_id = XFR_reform_the_government

		available = {
			has_government = democratic
			power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value < -0.3
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 100
		}
	}

	focus = {
		id = XFR_anti_corruption_laws
		icon = GFX_focus_ARG_anti_corruption_policies
		prerequisite = { focus = XFR_restaurationists focus = XFR_federalists }
		#mutually_exclusive = { focus =  }
		x = 2
		y = 3
		relative_position_id = XFR_reform_the_government

		available = {
			has_government = democratic
			power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value > 0.5
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_ideas = XFR_anti_corruption_act
		}
	}

	focus = {
		id = XFR_corporate_connections
		icon = GFX_focus_generic_industrialists
		prerequisite = { focus = XFR_restaurationists focus = XFR_federalists }
		#mutually_exclusive = { focus = }
		x = -2
		y = 3
		relative_position_id = XFR_reform_the_government

		available = {
			has_government = democratic
			power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value < -0.5
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = XFR_industrialist_support
		}
	}

	focus = {
		id = XFR_state_of_the_constitution
		icon = GFX_goal_support_democracy
		prerequisite = { focus = XFR_restaurationists focus = XFR_federalists }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_reform_the_government

		available = {
			has_government = democratic
		}

		cost = 4

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_state_of_the_constitution_tt
		}
	}

	focus = {
		id = XFR_social_reform
		icon = GFX_focus_DEN_civilian_preparations
		prerequisite = { focus = XFR_state_of_the_constitution }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_state_of_the_constitution

		available = {
			has_government = democratic
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_social_reform_tt
		}
	}

	focus = {
		id = XFR_the_dream_of_france
		icon = GFX_focus_focus_fra_liberte_egalite_solidarite
		prerequisite = { focus = XFR_social_reform }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_social_reform

		available = {
			has_government = democratic
			OR = {
				power_balance_value = {
					id = XFR_federalists_restaurationists_bop
					value > 0.9
				}
				power_balance_value = {
					id = XFR_federalists_restaurationists_bop
					value < -0.9
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			swap_ideas = {
				remove_idea = XFR_torch_of_democracy
				add_idea = XFR_dream_of_france
			}
		}
	}

	focus = {
		id = XFR_restore_internationalism
		icon = GFX_focus_generic_league_of_nations
		prerequisite = { focus = XFR_the_dream_of_france }
		#mutually_exclusive = { focus = XFR_the_lion_roars_alone }
		x = 1
		y = 1
		relative_position_id = XFR_the_dream_of_france

		available = {
			has_government = democratic
			power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value > 0.9
			}
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			# unlocks LoN minigame
		}
	}

	focus = {
		id = XFR_return_of_the_pope
		icon = GFX_focus_generic_catholic_dominion
		prerequisite = { focus = XFR_the_dream_of_france }
		#mutually_exclusive = { focus = XFR_restore_internationalism }
		x = -1
		y = 1
		relative_position_id = XFR_the_dream_of_france

		available = {
			has_government = democratic
			power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value < -0.9
			}
			#2 = { is_owned_and_controlled_by = ROOT }
			#978 = { is_owned_and_controlled_by = ROOT }
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER }
		completion_reward = {
			2 = { add_claim_by = ROOT }
			978 = { add_claim_by = ROOT }
			custom_effect_tooltip = XFR_return_of_the_pope_tt
		}
	}


	focus = {
		id = XFR_proclaim_french_government
		icon = GFX_focus_XFR_france_triumphs
		prerequisite = { focus = XFR_the_dream_of_france } 
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_the_dream_of_france

		available = {
			has_government = democratic
			custom_trigger_tooltip = {
				tooltip = XFR_proclaim_french_government_trigger
				DEN_controls_french_states = yes
				has_country_flag = XFR_is_france
			}
			OR = {
				power_balance_value = {
					id = XFR_federalists_restaurationists_bop
					value > 1
				}
				power_balance_value = {
					id = XFR_federalists_restaurationists_bop
					value < -1
				}
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				remove_idea = XFR_dream_of_france
				add_idea = XFR_france_restored
			}
			every_state = {
				limit = {
					DEN_is_french_state = yes
					NOT = { is_core_of = ROOT }
				}
				add_claim_by = ROOT
			}
			if = {
				limit = {
					power_balance_value = {
						id = XFR_federalists_restaurationists_bop
						value > 1
					}
				}
				set_cosmetic_tag = XFR_FRANCE_FED
			}
			else = {
				set_cosmetic_tag = XFR_FRANCE
			}
		}
	}
	
	focus = {
		id = XFR_rhone_expedition
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = XFR_democracy_prevails focus = XFR_the_new_empire }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 3
		relative_position_id = XFR_crisis_averted

		available = {
			has_army_manpower = {
    			size > 100000
			}
			27 = { is_owned_and_controlled_by = ROOT }
			973 = {
				owner = {
					NOT = {
						is_ally_with = ROOT
					}
				}
			}
		}

		bypass = { 973 = { is_owned_by = ROOT } }

		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			if = { 
				limit = { 973 = { owner = { tag = XFW } } }
				973 = { transfer_state_to = ROOT }
			}
			else = {
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 27
						num_provinces = 2
						on_win = XFR_events.4
						on_lose = XFR_events.3
						modifier = 0.2
						dig_in_factor = 0
					}
					defender = {
						state = 973
						num_provinces = 1
						on_win = XFR_events.3
						on_lose = XFR_events.4
						modifier = -0.2
					}
				}
			}
			
		}
	}

	focus = {
		id = XFR_dennounce_the_illigitimate_government
		icon = GFX_focus_attack_france
		prerequisite = { focus = XFR_rhone_expedition }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_rhone_expedition

		available = {
			is_neighbor_of = XNF
			NOT = { is_ally_with = XNF }
			is_subject = no
		}

		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }
		will_lead_to_war_with = XNF
		completion_reward = {
			create_wargoal = {
				target = XNF
				type = annex_everything
			}
		}
	}

	focus = {
		id = XFR_dennounce_democracy
		icon = GFX_focus_generic_strike_at_democracy2
		#prerequisite = { focus =  }
		mutually_exclusive = { focus = XFR_support_parliament }
		x = 21
		y = 0
		#relative_position_id = 

		available = {
			is_subject = no
			has_government = democratic
			NOT = { has_country_flag = XFR_2236_elections_over }
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		bypass = {
			has_government = fascism
		}

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = XFR_support_parliament
				}
			}
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = -0.1
			add_popularity = {
				ideology = democratic
				popularity = -0.2
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}


	focus = {
		id = XFR_fascist_coup
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = XFR_dennounce_democracy }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_dennounce_democracy

		cost = 10

		available = {
			fascism > 0.5
		}

		bypass = {
			has_government = fascism
		}

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_politics = { ruling_party = fascism elections_allowed = no }
		}
	}

	focus = {
		id = XFR_monarchist_coup
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = XFR_fascist_coup }
		#mutually_exclusive = { focus =  }
		x = 2
		y = 2
		relative_position_id = XFR_fascist_coup

		available = {
			NOT = { has_completed_focus = XFR_the_new_empire }
			has_civil_war = yes
			neutrality > 0.4
			has_government = fascism
			is_subject = no
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
		}
	}

	focus = {
		id = XFR_the_new_empire
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = XFR_fascist_coup }
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 6
		relative_position_id = XFR_dennounce_democracy

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			has_civil_war = no
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
		}
	}

# INDUSTRY

	focus = {
		id = XFR_industrial_investments
		icon = GFX_focus_generic_industry_2
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 32
		y = 0
		#relative_position_id = 

		offset = {
			x = -7
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		offset = {
			x = -4
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		available = {
			27 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			27 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = {
				XFR_industry_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			custom_effect_tooltip = XFR_industrial_investments_tt
			set_variable = {
    			var = XFR_industrial_fund_var
    			value = 0
			}
		}
	}

	focus = {
		id = XFR_raze_forests_for_factories
		icon = GFX_focus_CHL_expand_the_forestry
		prerequisite = { focus = XFR_industrial_investments }
		#mutually_exclusive = { focus = }
		x = -3
		y = 1
		relative_position_id = XFR_industrial_investments

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			every_owned_state = {
				limit = {
					OR = {
						state = 17
						state = 18
						AND = {
							state = 24
							ROOT = { has_completed_focus = XFR_crisis_averted }
						}
						state = 27
						state = 28
						state = 976
					}
				 }
				add_extra_state_shared_building_slots = 2
			}
			custom_effect_tooltip = XFR_raze_forests_for_factories_tt
		}
	}

	focus = {
		id = XFR_better_machinery
		icon = GFX_goal_generic_production2
		prerequisite = { focus = XFR_raze_forests_for_factories }
		prerequisite = { focus = XFR_learn_from_mistakes }
		#mutually_exclusive = { focus = }
		x = -5
		y = 2
		relative_position_id = XFR_industrial_investments

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_better_machinery
    			bonus = 0.75
    			uses = 2
    			category = cat_production
			}
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_production_factory_max_efficiency_factor = 0.1
				tooltip = production_factory_max_efficiency_factor_tt
			}
		}
	}

	focus = {
		id = XFR_dig_deep
		icon = GFX_focus_generic_resource_extraction
		prerequisite = { focus = XFR_better_machinery }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_better_machinery

		available = {
			17 = { is_owned_and_controlled_by = ROOT }
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			17 = {
				add_resource = {
				    type = tungsten
				    amount = 8
				}
				add_resource = {
				    type = chromium
				    amount = 6
				}
				add_resource = {
				    type = steel
				    amount = 6
				}
				add_resource = {
				    type = aluminium
				    amount = 10
				}
			}
		}
	}

	focus = {
		id = XFR_expand_the_railroads
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = XFR_raze_forests_for_factories }
		#mutually_exclusive = { focus = }
		x = -2
		y = 2
		relative_position_id = XFR_industrial_investments

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_production_speed_rail_way_factor = 0.25
				tooltip = production_speed_rail_way_factor_tt
			}
			add_to_variable = {
				XFR_industry_production_speed_supply_node_factor = 0.2
				tooltip = production_speed_supply_node_factor_tt
			}
		}
	}

	focus = {
		id = XFR_civilian_industry_expansion
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = XFR_better_machinery }
		prerequisite = { focus = XFR_expand_the_railroads }
		#mutually_exclusive = { focus = }
		x = -4
		y = 3
		relative_position_id = XFR_industrial_investments

		available = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
    					building = industrial_complex
    					size > 1
    					include_locked = no
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = XFR_support_the_population
		icon = GFX_focus_generic_low_cost_housing
		prerequisite = { focus = XFR_civilian_industry_expansion }
		#mutually_exclusive = { focus = }
		x = 1
		y = 1
		relative_position_id = XFR_civilian_industry_expansion

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		completion_reward = {
			if = {
				limit = { NOT = { has_government = fascism } }
				hidden_effect = { country_event = { id = XFR_events.21 days = 30 } }
			}
			add_ideas = XFR_living_standards
		}
	}

	focus = {
		id = XFR_alsatian_steel_industry
		icon = GFX_focus_generic_steel
		prerequisite = { focus = XFR_civilian_industry_expansion }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_civilian_industry_expansion

		available = {
			976 = {
				OR = {
					is_owned_and_controlled_by = ROOT
					owner = {
						is_subject_of = ROOT
					}
				}
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			976 = {
				add_resource = {
				    type = steel
				    amount = 16
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = XFR_electrify_the_country
		icon = GFX_focus_generic_energy # GFX_focus_ARG_develop_the_electricity_sector
		prerequisite = { focus = XFR_industrial_investments }
		#mutually_exclusive = { focus = }
		x = 2
		y = 1
		relative_position_id = XFR_industrial_investments

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					OR = {
						state = 975
						state = 17
						state = 18
						state = 27
					}
				}
				add_dynamic_modifier = { modifier = XFR_electricity_state_modifier }
			}
			
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
			custom_effect_tooltip = XFR_electrify_the_country_tt
		}
	}

	focus = {
		id = XFR_scientific_advancement
		icon = GFX_focus_research2
		prerequisite = { focus = XFR_electrify_the_country }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_electrify_the_country

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_scientific_advancement
    			bonus = 0.75
    			uses = 1
    			category = electronics
			}
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt
			}
		}
	}

	focus = {
		id = XFR_besancon_university
		icon = GFX_focus_generic_university_1
		prerequisite = { focus = XFR_scientific_advancement }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_scientific_advancement

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt
			}
		}
	}

	focus = {
		id = XFR_international_research_society
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = XFR_besancon_university }
		prerequisite = { focus = XFR_reopen_trade }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_besancon_university

		available = {
			is_subject = no
			any_other_country = {
				OR = {
					is_ally_with = ROOT
					has_government = ROOT
				}
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
		completion_reward = { 
			every_country = {
				limit = {
					OR = {
						is_ally_with = ROOT
						has_government = ROOT
					}
				}
				add_to_tech_sharing_group = XFR_tech_sharing
			}
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_research_speed_factor = 0.05
				tooltip = research_speed_factor_tt
			}
		}
	}

	focus = {
		id = XFR_reopen_trade
		icon = GFX_goal_generic_trade
		prerequisite = { focus = XFR_industrial_investments }
		#mutually_exclusive = { focus = }
		x = 0
		y = 2
		relative_position_id = XFR_industrial_investments

		available = {
			
		}

		bypass = {
			NOT = { has_idea = closed_economy }
		}

		cost = 2

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			add_ideas = export_focus
			custom_effect_tooltip = XFR_reopen_trade_tt
		}
	}

	focus = {
		id = XFR_transcontinental_railways
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = XFR_reopen_trade }
		prerequisite = { focus = XFR_expand_the_railroads }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_reopen_trade

		available = {
			OR = {
				2 = { is_owned_and_controlled_by = ROOT }
				9 = { is_owned_and_controlled_by = ROOT }
				64 = { is_owned_and_controlled_by = ROOT }
				7 = { is_owned_and_controlled_by = ROOT }
				789 = { is_owned_and_controlled_by = ROOT }
				180 = { is_owned_and_controlled_by = ROOT }
				115 = { is_owned_and_controlled_by = ROOT }
				4 = { is_owned_and_controlled_by = ROOT }
				55 = { is_owned_and_controlled_by = ROOT }
				21 = { is_owned_and_controlled_by = ROOT }
				14 = { is_owned_and_controlled_by = ROOT }
			}
		}

		cost = 2

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_production_speed_rail_way_factor = 0.25
				tooltip = production_speed_rail_way_factor_tt
			}
			custom_effect_tooltip = XFR_transcontinental_railways_tt
		}
	}

	focus = {
		id = XFR_learn_from_mistakes
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = XFR_industrial_investments }
		#mutually_exclusive = { focus = }
		x = -6
		y = 1
		relative_position_id = XFR_industrial_investments

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = {
				XFR_industry_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = {
				XFR_industry_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}

	focus = {
		id = XFR_agriculture
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = XFR_learn_from_mistakes }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_learn_from_mistakes

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = {
				XFR_industry_monthly_population = 0.1
				tooltip = monthly_population_tt
			}
		}
	}

	focus = {
		id = XFR_war_industry
		icon = GFX_focus_generic_reorient_production
		prerequisite = { focus = XFR_industrial_investments focus = XFR_army_funds }
		prerequisite = {  }
		#mutually_exclusive = { focus = }
		x = 4
		y = 1
		relative_position_id = XFR_industrial_investments

		available = {
			OR = {
				threat > 0.1
				has_war = yes
				NOT = { has_government = democratic }
			}
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
    					building = arms_factory
    					size > 0
    					include_locked = no
					}
				}
				random_select_amount = 1
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			upgrade_economy_law = yes
		}
	}

	focus = {
		id = XFR_military_production
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = XFR_war_industry }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_war_industry

		available = {
			
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
    					building = arms_factory
    					size > 0
    					include_locked = no
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = XFR_industry_modifier_tt
			add_to_variable = {
				XFR_industry_production_speed_arms_factory_factor = 0.1
				tooltip = production_speed_arms_factory_factor_tt
			}
		}
	}

# ARMY

	focus = {	
		id = XFR_army_funds
		icon = GFX_goal_generic_allies_build_infantry
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 40
		y = 0
		#relative_position_id = 

		offset = {
			x = -7
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		offset = {
			x = -4
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 25
		}
	}

	focus = {
		id = XFR_motorise_the_army
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = XFR_army_funds }
		#mutually_exclusive = { focus = }
		x = -2
		y = 1
		relative_position_id = XFR_army_funds

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			hidden_effect = {
				load_oob = "XFR_motorised"
			}
			custom_effect_tooltip = XFR_motorise_the_army_tt
			army_experience = 25
			add_tech_bonus = {
				name = XFR_motorise_the_army
				bonus = 0.5
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = XFR_tank_industry
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = XFR_motorise_the_army focus = XFR_military_production }
		#mutually_exclusive = { focus = }
		x = -1
		y = 2
		relative_position_id = XFR_motorise_the_army

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
    					building = arms_factory
    					size > 0
    					include_locked = no
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = XFR_tank_research
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = XFR_motorise_the_army }
		prerequisite = { focus = XFR_army_doctrines }
		#mutually_exclusive = { focus = }
		x = 1
		y = 2
		relative_position_id = XFR_motorise_the_army

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_tank_research
				bonus = 0.75
				uses = 3
				category = armor
			}
			add_tech_bonus = {
				name = XFR_tank_research
				bonus = 2
				uses = 1
				category = cat_light_armor
			}
			add_tech_bonus = {
				name = XFR_tank_research
				bonus = 2
				uses = 1
				category = cat_medium_armor
			}
		}
	}

	focus = {
		id = XFR_rolling_metal
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = XFR_tank_industry }
		prerequisite = { focus = XFR_tank_research }
		mutually_exclusive = { focus = XFR_raining_fire }
		x = 0
		y = 3
		relative_position_id = XFR_motorise_the_army

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			add_ideas = XFR_modern_tanks
			army_experience = 20
		}
	}

	focus = {
		id = XFR_army_academy
		icon = GFX_focus_ETH_ecole_militaire_haile_selassie_1er
		prerequisite = { focus = XFR_army_funds }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_army_funds

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			every_army_leader = {
				random_list = {
					25 = { add_logistics = 1 }
					25 = { add_planning = 1 }
					25 = { add_defense = 1 }
					25 = { add_attack = 1 }
				}
			}
		}
	}

	focus = {
		id = XFR_army_doctrines
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = XFR_army_academy }
		prerequisite = { focus = XFR_field_training }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_army_academy

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 25
			add_tech_bonus = {
				name = XFR_army_doctrines
				bonus = 0.75
				uses = 3
				category = land_doctrine
			}
		}
	}

	focus = {
		id = XFR_field_training
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = XFR_army_funds }
		#mutually_exclusive = { focus = }
		x = 2
		y = 1
		relative_position_id = XFR_army_funds

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 100
			add_tech_bonus = {
				name = XFR_field_training
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			add_ideas = XFR_modern_infantry
		}
	}

	focus = {
		id = XFR_artillery_research
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = XFR_field_training }
		#mutually_exclusive = { focus =  }
		x = 2
		y = 2
		relative_position_id = XFR_army_academy

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_artillery_research
				bonus = 0.75
				uses = 3
				category = artillery
			}
		}
	}

	focus = {
		id = XFR_raining_fire
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = XFR_artillery_research }
		mutually_exclusive = { focus = XFR_rolling_metal }
		x = 2
		y = 3
		relative_position_id = XFR_army_academy

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			add_ideas = XFR_modern_artillery
			army_experience = 20
		}
	}
	
	focus = {
		id = XFR_cavalry_modernisation
		icon = GFX_focus_generic_horse_studs
		prerequisite = { focus = XFR_army_funds }
		#mutually_exclusive = { focus = }
		x = 4
		y = 1
		relative_position_id = XFR_army_funds

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			add_ideas = XFR_modern_cavalry
			army_experience = 25
		}
	}

	focus = {
		id = XFR_take_a_bike
		icon = GFX_focus_SWE_bicycle
		prerequisite = { focus = XFR_cavalry_modernisation }
		#mutually_exclusive = { focus = }
		x = 0
		y = 2
		relative_position_id = XFR_cavalry_modernisation

		available = {
		}

		cost = 1
		
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			set_technology = {
				bicycle_infantry = 1
				popup = no
			}
		}
	}

	focus = {
		id = XFR_combined_arms
		dynamic = yes
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = XFR_rolling_metal focus = XFR_raining_fire }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 4
		relative_position_id = XFR_army_academy

		available = {
			if = {
				limit = { NOT = { has_country_flag = XFR_last_modernisation_active } }
				has_idea = XFR_modern_infantry
				has_idea = XFR_modern_cavalry
			}
			if = {
				limit = { has_country_flag = XFR_last_modernisation_active }
				AND = {
					has_idea = XFR_modern_army_hq
					OR = {
						has_idea = XFR_modern_army
						has_idea = XFR_modern_army_tanks
					}
				}
			}
		}

		cost = 1

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }

		cancel_if_invalid = no
		continue_if_invalid = no

		select_effect = {
			set_country_flag = XFR_last_modernisation_active
			army_experience = 25
		}
		completion_reward = {
			clr_country_flag = XFR_last_modernisation_active
			custom_effect_tooltip = XFR_combined_arms_tt
		}
	}

	focus = {
		id = XFR_special_forces
		icon = GFX_focus_eng_special_air_service
		prerequisite = { focus = XFR_combined_arms }
		#mutually_exclusive = { focus =  }
		x = -3
		y = 1
		relative_position_id = XFR_combined_arms

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = XFR_special_forces_idea
			add_tech_bonus = {
				name = XFR_special_forces
				bonus = 0.75
				uses = 1
				category = special_forces_doctrine
			}
		}
	}
	focus = {
		id = XFR_special_forces1
		icon = GFX_focus_SMB_special_forces_option_1
		prerequisite = { focus = XFR_special_forces }
		mutually_exclusive = { focus = XFR_special_forces2 focus = XFR_special_forces3 }
		x = -2
		y = 1
		relative_position_id = XFR_special_forces

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			swap_ideas = {
				remove_idea = XFR_special_forces_idea
				add_idea = XFR_special_forces_idea1
			}
			add_tech_bonus = {
				name = XFR_special_forces1
				bonus = 0.5
				uses = 2
				category = cat_mountaineers_doctrine
			}
		}
	}
	focus = {
		id = XFR_special_forces2
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = XFR_special_forces }
		mutually_exclusive = { focus = XFR_special_forces1 focus = XFR_special_forces3 }
		x = 0
		y = 1
		relative_position_id = XFR_special_forces

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			swap_ideas = {
				remove_idea = XFR_special_forces_idea
				add_idea = XFR_special_forces_idea2
			}
			add_tech_bonus = {
				name = XFR_special_forces2
				bonus = 0.5
				uses = 2
				category = cat_paratroopers_doctrine
			}
		}
	}

	focus = {
		id = XFR_special_forces3
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = XFR_special_forces }
		mutually_exclusive = { focus = XFR_special_forces1 focus = XFR_special_forces2 }
		x = 2
		y = 1
		relative_position_id = XFR_special_forces

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			swap_ideas = {
				remove_idea = XFR_special_forces_idea
				add_idea = XFR_special_forces_idea3
			}
			add_tech_bonus = {
				name = XFR_special_forces3
				bonus = 0.5
				uses = 2
				category = cat_marines_doctrine
			}
		}
	}

	focus = {	
		id = XFR_air_force
		icon = GFX_goal_generic_build_airforce
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 32
		y = 8
		#relative_position_id = 

		offset = {
			x = -7
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		offset = {
			x = -4
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		available = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_AIR_XP }
		completion_reward = {
			air_experience = 25
		}
	}

	focus = {	
		id = XFR_fighter_crafts
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = XFR_air_force }
		#mutually_exclusive = { focus = }
		x = 1
		y = 1
		relative_position_id = XFR_air_force

		available = {
		}

		cost = 6

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_fighter_crafts
				bonus = 0.75
				uses = 2
				category = light_fighter
			}
			air_experience = 20
		}
	}

	focus = {	
		id = XFR_CAS
		icon = GFX_focus_generic_cas_aircraft
		prerequisite = { focus = XFR_air_force }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_air_force

		available = {
		}

		cost = 6

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_CAS
				bonus = 0.75
				uses = 2
				category = cas_bomber
			}
			air_experience = 20
		}
	}

	focus = {	
		id = XFR_pilot_training
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = XFR_CAS focus = XFR_fighter_crafts focus = XFR_naval_aviation }
		#mutually_exclusive = { focus = }
		x = 2
		y = 2
		relative_position_id = XFR_air_force

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_AIR_XP }
		completion_reward = {
			add_ideas = XFR_pilot_training_idea
		}
	}

	focus = {	
		id = XFR_air_doctrines
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = XFR_CAS focus = XFR_fighter_crafts focus = XFR_naval_aviation }
		#mutually_exclusive = { focus = }
		x = 0
		y = 2
		relative_position_id = XFR_air_force

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = XFR_air_doctrines
				bonus = 0.75
				uses = 3
				category = air_doctrine
			}
		}
	}


	focus = {	
		id = XFR_radar_towers
		icon = GFX_goal_generic_radar
		prerequisite = { focus = XFR_air_force }
		#mutually_exclusive = { focus = }
		x = -3
		y = 1
		relative_position_id = XFR_air_force

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					975 = {
						is_controlled_by = ROOT
					}
				}
				975 = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
		}
	}

	focus = {	
		id = XFR_anti_air
		icon = GFX_focus_generic_air_defense
		prerequisite = { focus = XFR_radar_towers }
		#mutually_exclusive = { focus = }
		x = -3
		y = 2
		relative_position_id = XFR_air_force

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					17 = {
						is_controlled_by = ROOT
						free_building_slots = {
    						building = anti_air_building
    						size > 1
    						include_locked = no
						}
					}
				}
				17 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					975 = {
						is_controlled_by = ROOT
						free_building_slots = {
    						building = anti_air_building
    						size > 1
    						include_locked = no
						}
					}
				}
				975 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					27 = {
						is_controlled_by = ROOT
						free_building_slots = {
    						building = anti_air_building
    						size > 1
    						include_locked = no
						}
					}
				}
				27 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = XFR_anti_air
				bonus = 0.5
				uses = 1
				category = cat_anti_air
			}
		}
	}

	focus = {	
		id = XFR_restore_old_missile_silos
		icon = GFX_focus_rocketry
		prerequisite = { focus = XFR_anti_air }
		#mutually_exclusive = { focus = }
		x = -3
		y = 3
		relative_position_id = XFR_air_force

		available = {
			has_tech = experimental_rockets
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					27 = {
						is_controlled_by = ROOT
					}
				}
				27 = {
					add_building_construction = {
						type = rocket_site
						level = 2
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = XFR_restore_old_missile_silos
				bonus = 1
				uses = 1
				category = rocketry
			}
		}
	}

	focus = {	
		id = XFR_rebuild_the_fleet
		icon = GFX_goal_generic_build_navy
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 8
		y = 0
		relative_position_id = XFR_air_force

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_MILITARY_CHARACTER }
		completion_reward = {
			navy_experience = 25
			if = {
				limit = { NOT = { has_government = fascism } }
				custom_effect_tooltip = XFR_rebuild_the_fleet_tt
			}
			custom_effect_tooltip = XFR_rebuild_the_fleet_tt2
		}
	}

	focus = {	
		id = XFR_naval_aviation
		icon = GFX_focus_SMB_blue_water_fleet
		prerequisite = { focus = XFR_rebuild_the_fleet focus = XFR_air_force }
		#mutually_exclusive = { focus = }
		x = -5
		y = 1
		relative_position_id = XFR_rebuild_the_fleet

		available = {
		}

		cost = 6

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_naval_aviation
				bonus = 0.75
				uses = 2
				category = naval_air
			}
			air_experience = 20
			add_tech_bonus = {
				name = XFR_naval_aviation
				bonus = 0.5
				uses = 2
				category = mio_cat_tech_all_carrier_and_modules
			}
			navy_experience = 20
		}
	}

	focus = {	
		id = XFR_submarine_effort
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = XFR_rebuild_the_fleet }
		#mutually_exclusive = { focus = }
		x = -3
		y = 1
		relative_position_id = XFR_rebuild_the_fleet

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_submarine_effort
				bonus = 0.5
				uses = 2
				category = ss_tech
			}
		}
	}

	focus = {	
		id = XFR_cruiser_effort
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = XFR_rebuild_the_fleet }
		#mutually_exclusive = { focus = }
		x = -1
		y = 1
		relative_position_id = XFR_rebuild_the_fleet

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = XFR_cruiser_effort
				bonus = 0.5
				uses = 2
				category = mio_cat_tech_all_cruiser_and_modules
			}
		}
	}

	focus = {	
		id = XFR_french_dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = XFR_rebuild_the_fleet }
		#mutually_exclusive = { focus = }
		x = 1
		y = 1
		relative_position_id = XFR_rebuild_the_fleet

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_coastal = yes
					is_controlled_by = ROOT
					free_building_slots = {
    					building = arms_factory
    					size > 0
    					include_locked = no
					}
				}
				random_select_amount = 1
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { NOT = { any_owned_state = { is_coastal = yes } } }
				15 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {	
		id = XFR_maritime_trading
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = XFR_rebuild_the_fleet }
		#mutually_exclusive = { focus = }
		x = 3
		y = 1
		relative_position_id = XFR_rebuild_the_fleet

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INTERNATIONAL_TRADE FOCUS_FILTER_NAVY_XP }
		completion_reward = {
			navy_experience = 20
		}
	}

	focus = {	
		id = XFR_naval_doctrines
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = XFR_rebuild_the_fleet }
		#mutually_exclusive = { focus = }
		x = 0
		y = 2
		relative_position_id = XFR_rebuild_the_fleet

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = XFR_naval_doctrines
				bonus = 0.75
				uses = 4
				category = naval_doctrine
			}
		}
	}

	focus = {	
		id = XFR_the_grand_fleet
		icon = GFX_focus_ARG_study_the_battle_of_the_river_plate
		prerequisite = { focus = XFR_submarine_effort focus = XFR_naval_aviation }
		prerequisite = { focus = XFR_cruiser_effort }
		prerequisite = { focus = XFR_french_dockyards }
		#mutually_exclusive = { focus = }
		x = -2
		y = 2
		relative_position_id = XFR_rebuild_the_fleet

		available = {
			15 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cost = 20

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = XFR_the_grand_fleet_tt
			hidden_effect = {
				if = {
					limit = { has_dlc = "Man the Guns" }
					set_technology = {
						basic_naval_mines = 1
						submarine_mine_laying = 1
						early_ship_hull_light = 1
						early_ship_hull_cruiser = 1
						basic_ship_hull_cruiser = 1
						early_ship_hull_submarine = 1
						basic_battery = 1
						basic_torpedo = 1
						basic_depth_charges = 1
						basic_cruiser_armor_scheme = 1
					}
					create_equipment_variant = {
						name = "Grande Class"
						type = ship_hull_cruiser_1
						name_group = FRA_CA_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_medium_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_1
							fixed_ship_armor_slot = ship_armor_cruiser_2
							fixed_ship_secondaries_slot = ship_secondaries_1
							mid_1_custom_slot = ship_airplane_launcher_1
							mid_2_custom_slot = ship_torpedo_1
							rear_1_custom_slot = ship_medium_battery_2
						}
					}
					create_equipment_variant = {
						name = "Franais Class"
						type = ship_hull_cruiser_2
						name_group = FRA_CL_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_light_medium_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = ship_armor_cruiser_1
							front_1_custom_slot = empty
							mid_1_custom_slot = ship_torpedo_1
							mid_2_custom_slot = ship_airplane_launcher_1
							rear_1_custom_slot = ship_light_medium_battery_2
						}
					}
					create_equipment_variant = {
						name = "cran Class"
						type = ship_hull_light_1
						name_group = FRA_DD_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = light_ship_engine_1
							fixed_ship_torpedo_slot = ship_torpedo_1
							mid_1_custom_slot = empty
							rear_1_custom_slot = ship_depth_charge_1
						}
					}
					
					load_oob = "XFR_naval"
				}
				else = {
					create_equipment_variant = {
						name = "Franais Class"
						type = light_cruiser_1
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_gun_upgrade = 2
							ship_anti_air_upgrade = 2
						}
					}
	
					create_equipment_variant = {
						name = "Grande Class"
						type = heavy_cruiser_1
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}	
					create_equipment_variant = {
						name = "cran Class"
						type = destroyer_1
						upgrades = {
							ship_reliability_upgrade = 1
							ship_engine_upgrade = 1
							ship_armor_upgrade = 1
							ship_gun_upgrade = 1
						}
					}				
					set_technology = {
						early_destroyer = 1
						early_light_cruiser = 1
						early_heavy_cruiser = 1
						early_submarine = 1
					}
					load_oob = "XFR_naval_legacy"
				}	
			}
		}
	}

	focus = {	
		id = XFR_the_flagship
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = XFR_the_grand_fleet }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_the_grand_fleet

		available = {
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP} 
		completion_reward = {
			if = {
				limit = { has_dlc = "Man the Guns" }
				set_technology = {
					torpedo_cruiser_mtg = 1
					popup = no
				}
				set_technology = {
					cruiser_submarines = 1
					popup = no
				}
				
			}
			else = {
				set_technology = {
					torpedo_cruiser = 1
					popup = no
				}
			}
		}
	}

	focus = {	
		id = XFR_merchant_navy
		icon = GFX_focus_generic_merchant_fleet
		prerequisite = { focus = XFR_french_dockyards }
		prerequisite = { focus = XFR_maritime_trading }
		#mutually_exclusive = { focus = }
		x = 2
		y = 2
		relative_position_id = XFR_rebuild_the_fleet

		available = {
			NOT = { has_idea = closed_economy }
		}

		cost = 3

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP }
		completion_reward = {
			add_equipment_to_stockpile = {
    			type = convoy
    			amount = 100
			}
		}
	}

	focus = {	
		id = XFR_offshore_operations
		icon = GFX_focus_generic_offshore_oil_rig
		prerequisite = { focus = XFR_merchant_navy }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_merchant_navy

		available = {
			has_completed_focus = XFR_dig_deep
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			capital_scope = {
				add_resource = {
				    type = oil
				    amount = 16
				}
			}
		}
	}

	focus = {	
		id = XFR_conquer_the_atlantic
		icon = GFX_focus_generic_north_atlantic_fleet
		prerequisite = { focus = XFR_the_grand_fleet focus = XFR_merchant_navy }
		#mutually_exclusive = { focus = }
		x = 0
		y = 4
		relative_position_id = XFR_rebuild_the_fleet

		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = WIP
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			
		}
	}

# INTELLIGENCE

	focus = {	
		id = XFR_create_intelligence_agency
		icon = GFX_goal_generic_intelligence_exchange
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 30
		y = 5
		#relative_position_id = 

		available = {
			OR = {
				NOT = { has_government = democratic }
				threat > 0.05
				has_war = yes
			}
		}

		allow_branch = {
			has_dlc = "La Resistance"
		}

		offset = {
			x = -7
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		offset = {
			x = -4
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		bypass = {
			has_intelligence_agency = yes
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
			create_intelligence_agency = yes
		}
	}

	focus = {	
		id = XFR_propaganda_department
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = XFR_create_intelligence_agency }
		#mutually_exclusive = { focus = }
		x = 2
		y = 1
		relative_position_id = XFR_create_intelligence_agency

		available = {
			has_intelligence_agency = yes
			OR = {
				NOT = { has_government = democratic }
				surrender_progress > 0.25
			}
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = {
				limit = {
					NOT = { has_done_agency_upgrade = upgrade_psycho_warfare }
				}
				upgrade_intelligence_agency = upgrade_psycho_warfare
			}
			add_ideas = XFR_propaganda_department_idea
		}
	}

	focus = {	
		id = XFR_agency_upgrade
		icon = GFX_focus_generic_secret_service_agency  # GFX_focus_generic_national_security
		prerequisite = { focus = XFR_create_intelligence_agency }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_create_intelligence_agency

		available = {
			has_intelligence_agency = yes
		}

		bypass = {
			
		}

		cost = 6

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
			gain_random_agency_upgrade = yes
		}
	}

	focus = {	
		id = XFR_burgundian_infiltration_squad
		icon = GFX_focus_SWI_embrace_rote_drei
		prerequisite = { focus = XFR_agency_upgrade }
		#mutually_exclusive = { focus = }
		x = 0
		y = 1
		relative_position_id = XFR_agency_upgrade

		available = {
			has_intelligence_agency = yes
		}

		bypass = {
			
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		search_filters = { }
		completion_reward = {
			custom_effect_tooltip = XFR_burgundian_infiltration_squad_tt
		}
	}

}

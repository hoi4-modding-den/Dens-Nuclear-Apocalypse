focus_tree = {
	id = XFR_focus_tree
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = XFR
		}
	}
	
	default = no
	
	continuous_focus_position = { x = 0 y = 3000 }

# POLITICS

	focus = {
		id = XFR_support_parliament
		icon = GFX_focus_generic_treaty
		#prerequisite = { focus =  }
		mutually_exclusive = { focus = XFR_dennounce_democracy }
		x = 5
		y = 0
		#relative_position_id = 

		available = {
			has_government = democratic
		}

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = XFR_dennounce_democracy
				}
			}
		}

		offset = {
			x = 8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = XFR_prepare_for_elections
		icon = GFX_goal_support_democracy
		prerequisite = { focus = XFR_support_parliament }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_support_parliament

		available = {
			has_government = democratic
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {
		id = XFR_raid_fascist_hideouts
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = XFR_prepare_for_elections }
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = XFR_prepare_for_elections

		available = {
			has_government = democratic
		}

		bypass = {
			fascism < 0.1
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {
		id = XFR_secure_the_border
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = XFR_prepare_for_elections }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = XFR_prepare_for_elections

		available = {
			has_government = democratic
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {
		id = XFR_arrest_the_ringleaders
		icon = GFX_focus_ARG_crackdown_on_corruption
		prerequisite = { focus = XFR_raid_fascist_hideouts }
		prerequisite = { focus = XFR_secure_the_border }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_prepare_for_elections

		available = {
			has_government = democratic
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {
		id = XFR_elections
		icon = GFX_focus_NOR_restore_public_trust_in_the_storting
		prerequisite = { focus = XFR_arrest_the_ringleaders }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 4
		relative_position_id = XFR_support_parliament

		available = {
			has_government = democratic
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {
		id = XFR_investigate_centre
		icon = GFX
		prerequisite = { focus = XFR_support_parliament focus = XFR_dennounce_democracy }
		#mutually_exclusive = { focus =  }
		x = 13
		y = 1
		#relative_position_id = XFR_support_parliament

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
		}

		bypass ={
			OR = {
				NOT = { 24 = { is_owned_and_controlled_by = ROOT } }
				24 = { is_demilitarized_zone = no }
			}
		}

		offset = {
			x = 3
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_support_parliament
			}
		}

		offset = {
			x = -3
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			24 = { set_demilitarized_zone = no }
		}
	}


	focus = {
		id = XFR_deal_with_the_mutants
		icon = GFX
		prerequisite = { focus = XFR_investigate_centre }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_investigate_centre

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
		}

		bypass ={
			OR = {
				NOT = { 24 = { is_owned_and_controlled_by = ROOT } }
				NOT = { 24 = { has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } } }
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			custom_effect_tooltip = XFR_deal_with_the_mutants_tt
			add_political_power = 50
		}
	}

	focus = {
		id = XFR_crisis_averted
		icon = GFX
		prerequisite = { focus = XFR_deal_with_the_mutants }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = XFR_deal_with_the_mutants

		available = {
			24 = {
				OR = {
					NOT = { is_owned_and_controlled_by = ROOT }
					NOT = {has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
				}
			}
		}

		bypass ={
			NOT = {has_idea = XFR_chaos_in_centre }
		}

		cost = 2

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			remove_ideas = { XFR_chaos_in_centre }
		}
	}

	focus = {
		id = XFR_revitalise_industry
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = XFR_crisis_averted

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			if = {
				limit = { has_idea = XFR_chaos_in_centre2 }
				NOT = { has_idea = XFR_chaos_in_centre2 }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			24 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
    				type = industrial_complex
    				level = 2
    				instant_build = yes
				}
			}
		}
	}

	focus = {
		id = XFR_colonise_centre
		icon = GFX_focus_BRA_amazon_colonization
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = XFR_crisis_averted

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			if = {
				limit = { has_idea = XFR_chaos_in_centre2 }
				NOT = { has_idea = XFR_chaos_in_centre2 }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			24 = {
				add_manpower = 15000
				add_extra_state_shared_building_slots = 2
				add_dynamic_modifier = {
					modifier = XFR_colonisation_state_modifier
				}
			}
		}
	}



	focus = {
		id = XFR_democracy_lives_on
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = XFR_elections }
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_elections

		available = {
			has_government = democratic
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_stability = 0.1
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
		}
	}

	focus = {
		id = XFR_dennounce_democracy
		icon = GFX_focus_generic_strike_at_democracy2
		#prerequisite = { focus =  }
		mutually_exclusive = { focus = XFR_support_parliament }
		x = 21
		y = 0
		#relative_position_id = 

		available = {
			is_subject = no
			has_government = democratic
		}

		bypass = {
			has_government = fascism
		}

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = XFR_support_parliament
				}
			}
		}

		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = XFR_dennounce_democracy
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_stability = -0.1
			add_popularity = {
				ideology = democratic
				popularity = -0.2
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}


	focus = {
		id = XFR_fascist_coup
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = XFR_dennounce_democracy }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 1
		relative_position_id = XFR_dennounce_democracy

		cost = 10

		available = {
			fascism > 0.5
		}

		bypass = {
			has_government = fascism
		}

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			set_politics = { ruling_party = fascism elections_allowed = no }
		}
	}

	focus = {
		id = XFR_monarchist_coup
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = XFR_fascist_coup }
		#mutually_exclusive = { focus =  }
		x = 2
		y = 2
		relative_position_id = XFR_fascist_coup

		available = {
			NOT = { has_completed_focus = XFR_the_new_empire }
			neutrality > 0.4
			has_government = fascism
			is_subject = no
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {
		id = XFR_the_new_empire
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = XFR_fascist_coup }
		prerequisite = { focus = XFR_crisis_averted }
		#mutually_exclusive = { focus =  }
		x = 0
		y = 5
		relative_position_id = XFR_dennounce_democracy

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}

	focus = {	
		id = XFR_hand_over_centre
		icon = GFX
		prerequisite = { focus = XFR_the_new_empire }
		x = 2
		y = 1
		relative_position_id = XFR_the_new_empire

		available = {
			has_completed_focus = XFR_cooperate_with_lesser_gaul
			has_government = fascism
			OR = {
				is_subject = no
				is_subject_of = XAQ
			}
			24 = { is_owned_by = ROOT }
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_the_noviodunum_deal
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = XFR_the_new_empire }
		x = 0
		y = 2
		relative_position_id = XFR_hand_over_centre

		available = {
			has_government = fascism
			is_subject = no
		}

		bypass = {
			is_subject_of = XAQ
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

# INDUSTRY

	focus = {
		id = XFR_industrial_investments
		icon = GFX_focus_generic_industry_1
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 30
		y = 0
		#relative_position_id = 

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

# DIPLOMACY

	focus = {	
		id = XFR_cooperate_with_neighbours
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = XFR_the_new_empire focus = XFR_democracy_lives_on }
		mutually_exclusive = { focus = XFR_reclaim_french_territories }
		x = 11
		y = 7
		#relative_position_id = 

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_reclaim_french_territories
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = XFR_the_new_empire focus = XFR_democracy_lives_on }
		mutually_exclusive = { focus = XFR_cooperate_with_neighbours }
		x = 15
		y = 7
		#relative_position_id = 

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_preempt_the_swiss_threat
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = XFR_reclaim_french_territories }
		x = 0
		y = 2
		relative_position_id = XFR_reclaim_french_territories

		available = {
			is_subject = no
			any_neighbor_country = {
				tag = XSS
			}
			OR = {
				XSS = { NOT = { has_government = democratic } }
				NOT = { has_government = democratic }
			}
		}

		bypass = {
			XSS = {
				OR = {
					exists = no
					is_subject_of = ROOT
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			create_wargoal = {
    			type = puppet_wargoal_focus
   				target = XSS
			}
		}
	}

	focus = {	
		id = XFR_to_paris_we_march
		icon = GFX_focus_attack_france
		prerequisite = { focus = XFR_reclaim_french_territories }
		x = 3
		y = 1
		relative_position_id = XFR_reclaim_french_territories

		available = {
			is_subject = no
			any_neighbor_country = {
				tag = XPR
			}
		}

		bypass = {
			XPR = {
				OR = {
					exists = no
					is_subject_of = ROOT
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			create_wargoal = {
    			type = puppet_wargoal_focus
   				target = XPR
			}
		}
	}

	focus = {	
		id = XFR_normandy_to_britanny
		icon = GFX
		prerequisite = { focus = XFR_to_paris_we_march }
		x = -1
		y = 1
		relative_position_id = XFR_to_paris_we_march

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_erase_luxonie
		icon = GFX
		prerequisite = { focus = XFR_to_paris_we_march }
		x = 1
		y = 1
		relative_position_id = XFR_to_paris_we_march

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_dennounce_the_illigitimate_government
		icon = GFX_focus_attack_france
		prerequisite = { focus = XFR_reclaim_french_territories focus = XFR_cooperate_with_neighbours }
		x = -2
		y = 3
		relative_position_id = XFR_reclaim_french_territories

		available = {
			is_subject = no
			any_neighbor_country = {
				tag = XNF
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			create_wargoal = {
    			type = annex_everything
   				target = XNF
			}
		}
	}

	focus = {	
		id = XFR_guarantee_swiss_neutrality
		icon = GFX_focus_SWI_swiss_guiding_principles
		prerequisite = { focus = XFR_cooperate_with_neighbours }
		x = 0
		y = 2
		relative_position_id = XFR_cooperate_with_neighbours

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_paris_conference
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = XFR_cooperate_with_neighbours }
		x = -3
		y = 1
		relative_position_id = XFR_cooperate_with_neighbours

		available = {
			is_subject = no
			has_government = democratic
			OR = {
				16 = { is_fully_controlled_by = ROOT }
				XPR = {
					OR = {
						is_subject_of = ROOT
						has_opinion = { target = ROOT value > 50 }
					}
					NOT = {
						has_war_with = ROOT
					}
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					16 = {
						is_fully_controlled_by = ROOT
						NOT = { is_owned_by = ROOT }
					}
				}
				16 = { transfer_state_to = ROOT }
			}
			set_party_rule = {
				ideology = democratic
				can_create_factions = yes
			}
			create_faction = "French Federation"
		}
	}

	focus = {	
		id = XFR_expand_the_pact
		icon = GFX
		prerequisite = { focus = XFR_paris_conference }
		x = 0
		y = 1
		relative_position_id = XFR_paris_conference

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_restore_the_french_republic
		icon = GFX
		prerequisite = { focus = XFR_paris_conference }
		mutually_exclusive = { focus = XFR_a_french_federation }
		x = -1
		y = 2
		relative_position_id = XFR_paris_conference

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_a_french_federation
		icon = GFX
		prerequisite = { focus = XFR_paris_conference }
		mutually_exclusive = { focus = XFR_restore_the_french_republic }
		x = 1
		y = 2
		relative_position_id = XFR_paris_conference

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_cooperate_with_lesser_gaul
		icon = GFX
		prerequisite = { focus = XFR_reclaim_french_territories focus = XFR_cooperate_with_neighbours }
		mutually_exclusive = { focus = XFR_no_deal_with_mad_men }
		x = -1
		y = 1
		relative_position_id = XFR_reclaim_french_territories

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_no_deal_with_mad_men
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = XFR_reclaim_french_territories focus = XFR_cooperate_with_neighbours }
		mutually_exclusive = { focus = XFR_cooperate_with_lesser_gaul }
		x = 1
		y = 1
		relative_position_id = XFR_reclaim_french_territories

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_alcase_lorraine_diplomacy
		icon = GFX
		prerequisite = { focus = XFR_democracy_lives_on focus = XFR_the_new_empire }
		x = -6
		y = 0
		relative_position_id = XFR_cooperate_with_neighbours

		available = {
			XAL = {
				exists = yes
				28 = { is_owned_by = XAL }
			}
		}

		offset = {
			x = -1
			trigger = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					NOT = {
						OR = {
							has_completed_focus = XFR_dennounce_democracy
							has_completed_focus = XFR_support_parliament
						}
					}
				}
			}
		}

		cost = 2

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

	focus = {	
		id = XFR_ultimatum_to_alcase_lorraine
		icon = GFX
		prerequisite = { focus = XFR_alcase_lorraine_diplomacy }
		x = 0
		y = 1
		relative_position_id = XFR_alcase_lorraine_diplomacy

		available = {
			XAL = {
				exists = yes
				28 = { is_owned_by = XAL }
			}
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			annex_country = {
    			target = XAL
    			transfer_troops = no
			}
		}
	}

# ARMY

	focus = {	
		id = XFR_army_funds
		icon = GFX_goal_generic_allies_build_infantry
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 37
		y = 0
		#relative_position_id = 

		available = {
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			
		}
	}

# INTELLIGENCE

	focus = {	
		id = XFR_create_intelligence_agency
		icon = GFX_focus_generic_secret_service_agency
		#prerequisite = { focus =  }
		#mutually_exclusive = { focus = }
		x = 27
		y = 4
		#relative_position_id = 

		available = {
			
		}

		bypass = {
			has_intelligence_agency = yes
		}

		cost = 5

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			create_intelligence_agency = yes
		}
	}

}

XFR_centre_crisis_cat = {
	XFR_centre_hunt_down_mutants_debug = { 
		
		icon = GFX_decision_generic_ignite_civil_war

		allowed = {
			tag = XFR
		}

		highlight_states = { 
			highlight_state_targets = {
				state = 24 
			}
		}

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			has_completed_focus = XFR_deal_with_the_mutants 
		}

		visible = { 
			24 = { has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
			24 = { is_owned_and_controlled_by = ROOT }
			has_completed_focus = XFR_deal_with_the_mutants
			is_debug = yes
			is_ai = no
		}

		fire_only_once = no

		complete_effect = {
			24 = { remove_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
        }
	}
	XFR_centre_hunt_down_mutants  = { 
		
		icon = GFX_decision_generic_ignite_civil_war

		allowed = {
			tag = XFR
		}

		highlight_states = { 
			highlight_state_targets = {
				state = 24 
			}
		}

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			has_completed_focus = XFR_deal_with_the_mutants 
		}

		visible = { 
			24 = { has_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
			24 = { is_owned_and_controlled_by = ROOT }
			has_completed_focus = XFR_deal_with_the_mutants
		}

		fire_only_once = no

		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 99 }
		}
		custom_cost_text = decision_cost_100_guns

		days_remove = 21

        ai_will_do = {
			base = 1000
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
    				type = infantry_equipment
    				amount = -100
				}
			}
		}
		remove_effect = {
			if = {
				limit = { check_variable = { var = XFR_mutant_hunt_progress value = 80 compare = less_than } }
				add_to_variable = { XFR_mutant_hunt_progress = 20 }
				random_list = {
					50 = {
						add_manpower = -200
					}
					25 = {
						add_manpower = -100
					}
					15 = {
						add_manpower = -50
					}
					9 = {
						add_manpower = -25
					}
					1 = {
					}
				}  
				custom_effect_tooltip = XFR_mutant_hunt_progress_tt
			}
			else_if = {
				limit = { check_variable = { var = XFR_mutant_hunt_progress value = 80 compare = equals } }
				add_to_variable = { XFR_mutant_hunt_progress = 10 }
				random_list = {
					40 = {
						add_manpower = -200
					}
					25 = {
						add_manpower = -100
					}
					20 = {
						add_manpower = -50
					}
					10 = {
						add_manpower = -25
					}
					5 = {
					}
				}  
				custom_effect_tooltip = XFR_mutant_hunt_progress_tt
			}
			else = {
				24 = { remove_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
			}
        }
	}

	XFR_centre_improve_centre_infrastructure  = { 
		
		icon = GFX_decision_generic_construction

		allowed = {
			tag = XFR
		}

		highlight_states = { 
			highlight_state_targets = {
				state = 24 
			}
		}

		available = {
			24 = { is_owned_and_controlled_by = ROOT }
			24 = { infrastructure < 5 }
			has_completed_focus = XFR_deal_with_the_mutants 
		}

		visible = { 
			24 = { is_owned_and_controlled_by = ROOT }
			24 = { infrastructure < 5 }
			has_completed_focus = XFR_deal_with_the_mutants
		}

		cancel_trigger = {
			OR = {
				24 = { infrastructure > 4 }
				has_completed_focus = XFR_crisis_averted
			}
		}

		fire_only_once = yes

		cost = 80

		days_remove = 100

		#days_re_enable = 180

		modifier = { 
		    civilian_factory_use = 2
		}

        ai_will_do = {
			base = 100
		}
		remove_effect = {
			24 = {
				add_building_construction = {
    				type = infrastructure
    				level = 1
    				instant_build = yes
				}
			}
        }
	}

	XFR_centre_crisis_timer = {

		icon = GFX_decision_revolt

		priority = 100

		activation = {
			has_country_flag = XFR_centre_crisis_timer_activated
		}

    	allowed = {
    	    original_tag = XFR
    	}

    	cancel_trigger = {
    	}

    	available = {
			has_completed_focus = XFR_crisis_averted
    	}

    	is_good = no

		fire_only_once = yes

    	days_mission_timeout = 500

    	complete_effect = {
    	    add_political_power = 100
			hidden_effect = {
				news_event = { id = XFR_news_events.1 days = 1 }
			}
    	}

    	timeout_effect = {
			country_event = { id = XFR_events.2 days = 1 }
			add_stability = -0.5
    	}
	}

}

XFR_other_crisis_cat = {

}

XFR_last_modernisation = {

	XFR_army_reform_hq = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = XFR
		}

		available = {
			
		}

		custom_cost_trigger = {
			has_army_experience > 99
		}
		custom_cost_text = decision_cost_100_army_xp

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
		}

		days_remove = 7

		complete_effect = {
			hidden_effect = {
				army_experience = -100
			}
		}

		remove_effect = {
			add_ideas = XFR_modern_army_hq
		}
	}

	XFR_army_reform_cavalry = {

		icon = GFX_decision_generic_cavalry

		allowed = {
			original_tag = XFR
		}

		available = {
			
		}

		custom_cost_trigger = {
			has_army_experience > 99
		}
		custom_cost_text = decision_cost_100_army_xp

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_idea = XFR_modern_cavalry
		}

		days_remove = 7

		complete_effect = {
			hidden_effect = {
				army_experience = -100
			}
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = XFR_modern_cavalry
				add_idea = XFR_modern_cavalry2
			}
		}
	}

	XFR_army_reform_infantry = {

		icon = GFX_decision_SWE_set_army_budget

		allowed = {
			original_tag = XFR
		}

		available = {
			
		}

		custom_cost_trigger = {
			has_army_experience > 99
		}
		custom_cost_text = decision_cost_100_army_xp

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_idea = XFR_modern_infantry
		}

		days_remove = 7

		complete_effect = {
			hidden_effect = {
				army_experience = -100
			}
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = XFR_modern_infantry
				add_idea = XFR_modern_infantry2
			}
		}
	}

	XFR_army_reform_artillery = {

		icon = GFX_decision_generic_ignite_civil_war

		allowed = {
			original_tag = XFR
		}

		available = {
			
		}

		custom_cost_trigger = {
			has_army_experience > 99
		}
		custom_cost_text = decision_cost_100_army_xp

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_idea = XFR_modern_artillery
		}

		days_remove = 7

		complete_effect = {
			hidden_effect = {
				army_experience = -100
			}
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = XFR_modern_artillery
				add_idea = XFR_modern_artillery2
			}
		}
	}

	XFR_army_reform_tanks = {

		icon = GFX_decision_generic_tank

		allowed = {
			original_tag = XFR
		}

		available = {
			
		}

		custom_cost_trigger = {
			has_army_experience > 99
		}
		custom_cost_text = decision_cost_100_army_xp

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_idea = XFR_modern_tanks
		}

		days_remove = 7

		complete_effect = {
			hidden_effect = {
				army_experience = -100
			}
		}

		remove_effect = {
			swap_ideas = {
				remove_idea = XFR_modern_tanks
				add_idea = XFR_modern_tanks2
			}
		}
	}

	XFR_finish_army_reform = {

		icon = GFX_decision_generic_army_support

		allowed = {
			original_tag = XFR
		}

		available = {
			has_idea = XFR_modern_army_hq
			has_idea = XFR_modern_cavalry2
			has_idea = XFR_modern_infantry2
			OR = {
				has_idea = XFR_modern_tanks2
				has_idea = XFR_modern_artillery2
			}
		}

		

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_idea = XFR_modern_army_hq
			has_idea = XFR_modern_cavalry2
			has_idea = XFR_modern_infantry2
			OR = {
				has_idea = XFR_modern_tanks2
				has_idea = XFR_modern_artillery2
			}
		}

		days_remove = 70

		complete_effect = {
		}

		remove_effect = {
			remove_ideas = XFR_modern_cavalry2
			remove_ideas = XFR_modern_infantry2
			if = {
				limit = {
					has_idea = XFR_modern_artillery2
				}
				remove_ideas = XFR_modern_artillery2
				add_ideas = XFR_modern_army
			}
			if = {
				limit = {
					has_idea = XFR_modern_tanks2
				}
				remove_ideas = XFR_modern_tanks2
				add_ideas = XFR_modern_army_tanks
			}
		}
	}

}

XFR_country_development_cat = {
	XFR_electrify_state_decision = {
		
		icon = GFX_decision_generic_electricity

		cost = 25


		allowed = {
			original_tag = XFR
		}

		highlight_states = { 
			highlight_state_targets = {
				state = FROM
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		visible = {
			has_completed_focus = XFR_electrify_the_country
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		ai_will_do = {
			base = 100
		}

		cancel_trigger = {
			FROM = { NOT = { is_owned_and_controlled_by = ROOT } }
		}


		targets_dynamic = yes

		state_target = yes

		on_map_mode = map_only  

		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { 
					has_dynamic_modifier = { modifier = XFR_electricity_state_modifier }
					has_dynamic_modifier = { modifier = XFR_mutant_state_modifier }
				}
			}
		}

		days_remove = 30

		complete_effect = {
		}

		remove_effect = {
			FROM = { add_dynamic_modifier = { modifier = XFR_electricity_state_modifier } }
			if = {
				limit = { FROM = { NOT = { is_core_of = ROOT }}}
				FROM = { add_compliance = 10 }
			}
		}
	}

	XFR_gather_funds = {

		icon = GFX_decision_gre_investment_decisions

		allowed = {
			original_tag = XFR
		}

		available = {
			NOT = { has_country_flag = XFR_using_industry_fund }
		}

		cost = 75

		priority = 4

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = XFR_industrial_investments
			NOT = {
				check_variable = {
    				var = XFR_industrial_fund_var
    				value = 5
    				compare = equals
				}
			}
		}

		days_remove = 50

		days_re_enable = 10

		modifier = {
			consumer_goods_factor = 0.1
		}

		cancel_trigger = {
			has_country_flag = XFR_using_industry_fund
		}

		complete_effect = {
		}

		remove_effect = {
			add_to_variable = {
				var = XFR_industrial_fund_var
				value = 1
				tooltip = XFR_add_1_to_industrial_fund
			}
		}
	}

	XFR_industrial_funds = {

		icon = GFX_decision_generic_merge_plant_materiel

		allowed = {
			original_tag = XFR
		}

		available = {
			check_variable = {
    			var = XFR_industrial_fund_var
    			value = 1
    			compare = greater_than_or_equals
			}
		}

		priority = 3

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = XFR_industrial_investments
		}

		days_remove = 30

		days_re_enable = 10


		complete_effect = {
			set_country_flag = XFR_using_industry_fund
		}

		remove_effect = {
			clr_country_flag = XFR_using_industry_fund
			add_offsite_building = { type = industrial_complex level = XFR_industrial_fund_var }
			custom_effect_tooltip = XFR_industrial_funds_tt
			set_variable = {
    			var = XFR_industrial_fund_var
    			value = 0
			}
		}
	}

	XFR_cooperate_with_BEZ = {

		icon = GFX_decision_gre_paying_ifc_debt

		allowed = {
			original_tag = XFR
		}

		available = {
			any_neighbor_country = {
				has_government = democratic
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 100

		priority = 3

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = XFR_reopen_trade
			NOT = { has_idea = XFR_customs_agreement_head_idea }
			any_other_country = { has_idea = BEZ_membership }
		}

		days_remove = 70

		complete_effect = {
		}

		remove_effect = {
			add_offsite_building = { type = industrial_complex level = 1 }
			every_other_country = {
				limit = { has_idea = BEZ_membership }
				add_offsite_building = { type = industrial_complex level = 1 }
				add_opinion_modifier = {
					target = ROOT
					modifier = XFR_bez_agreement
				}
			}
		}
	}

}

foreign_politics = {

	XFR_retract_XAL_military_support = {

		icon = GFX_decision_generic_military

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = { has_idea = XAL_burgundy_volunteers }
		}

		available = {
			FROM = {
				OR = {
					AND = {
						NOT = { has_government = ROOT }
						NOT = { has_government = neutrality }
					}
					AND = {
						is_subject = yes
						NOT = { is_subject_of = ROOT }
					}
					has_opinion = { target = ROOT value < -49 }
					has_added_tension_amount > 10
					has_wargoal_against = ROOT
				}
			}
		}

		cost = 50

		priority = 1

		fire_only_once = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100000
				XAL = {
					has_government = fascism
				}
			}
		}

		visible = {
			FROM = {
				has_idea = XAL_burgundy_volunteers
				NOT = { is_subject_of = ROOT }
			}
		}

		complete_effect = {
			FROM = {
				country_event = { id = XFR_events.5 }
				remove_ideas = XAL_burgundy_volunteers
				add_opinion_modifier = {
					target = ROOT
    				modifier = XFR_recalled_support
				}
				delete_units = {
					division_template = "Brigade des Volontaires Bourguignons"
					disband = yes
				}
			}
		}
	}

	XFR_improve_relations_XAL = {

		icon = GFX_decision_SWI_isolate_switzerland

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = { original_tag = XAL }
		 }

		available = {
			has_completed_focus = XFR_alcase_lorraine_diplomacy
			FROM = {
				OR = {
					has_government = ROOT
					has_government = neutrality
				}
				has_opinion = { target = ROOT value > 24 }
			}
			any_neighbor_country = {
				tag = FROM
			}
		}

		cost = 50

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			FROM = {
				NOT = { is_subject_of = ROOT }
				NOT = { has_war_with = ROOT }
				NOT = {
					has_military_access_to = ROOT
					gives_military_access_to = ROOT
				}
			}
			NOT = { has_completed_focus = XFR_dennounce_democracy }
		}

		complete_effect = {
			reverse_add_opinion_modifier = {
				target = FROM
    			modifier = XFR_open_borders
			}
			FROM = { give_military_access = ROOT }
			add_opinion_modifier = {
				target = FROM
    			modifier = XFR_open_borders
			}
			ROOT = { give_military_access = FROM }
			
		}
	}

	XFR_formalise_the_treaty = {

		icon = GFX_decision_eng_trade_unions_support

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = { original_tag = XAL }
		 }

		available = {
			has_completed_focus = XFR_alcase_lorraine_diplomacy
			FROM = {
				OR = {
					has_government = ROOT
					has_government = neutrality
				}
				has_opinion = { target = ROOT value > 49 }
			}
			any_neighbor_country = {
				tag = FROM
			}
		}

		cost = 25

		priority = 10

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			FROM = {
				NOT = { is_subject_of = ROOT }
				NOT = { has_war_with = ROOT }
				NOT = { is_guaranteed_by = ROOT }
			}
			
			NOT = { has_completed_focus = XFR_dennounce_democracy }
		}

		complete_effect = {
			give_guarantee = FROM
		}
	}

	XFR_limit_napoleons_influence = {

		icon = GFX_decision_SWI_expand_covert_operations

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = {
				original_tag = XNF
			 }
		}

		available = {
			FROM = {
				has_country_leader = { character = XNF_napoleon_x ruling_only = yes }
			}
			always = no
		}

		cost = 75

		priority = 100

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			FROM = {
				has_country_leader = { character = XNF_napoleon_x ruling_only = yes }
			}
			
		}

		days_remove = 70

		complete_effect = {
		}

		remove_effect = {
		}
	}

}

XFR_udb_cat = {

	XFR_customs_agreements = {

		icon = GFX_decision_SWI_isolate_switzerland

		allowed = {
			original_tag = XFR
		}

		available = {
			NOT = {has_idea = closed_economy }
			any_neighbor_country = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				NOT = { has_war_with = ROOT }
				NOT = {has_idea = closed_economy }
				XFR_no_economic_membership = yes
				hidden_trigger = { NOT = { has_idea = anarchy_idea_max } }
			}
		}

		cost = 75

		priority = 50

		fire_only_once = yes

		#days_re_enable = 365

		ai_will_do = {
			factor = 1000
		}

		visible = {
			has_completed_focus = XFR_economic_cooperation
		}

		complete_effect = {
			# event for every neighbouring democracy and neutral country
			every_neighbor_country = {
				limit = {
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = {has_idea = closed_economy }
					XFR_no_economic_membership = yes
					NOT = { has_war_with = ROOT }
					hidden_trigger = { NOT = {has_idea = anarchy_idea_max } }
				}
				country_event = { id = XFR_events.12 days = 0 random_hours = 12 random_days = 1 }
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_ideas = XFR_customs_agreement_idea
			}
			
		}
	}

	XFR_reach_out_to_new_new_england = {

		icon = GFX_decision_SWI_isolate_switzerland

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = {
				original_tag = XNE
				XFR_no_economic_membership = yes
			 }
		}

		available = {
			NOT = { has_idea = closed_economy }
			FROM = {
				is_ally_with = ROOT
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				NOT = { has_war_with = ROOT }
				NOT = {has_idea = closed_economy }
			}
		}

		cost = 75

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_completed_focus = XFR_across_the_channel
			has_idea = XFR_customs_agreement_head_idea
		}

		days_remove = 70

		cancel_trigger = {
			FROM = { XFR_no_economic_membership = no }
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = XFR_events.12 days = 1 random_hours = 12 random_days = 1 }
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_ideas = XFR_customs_agreement_idea
			}
		}
	}

	XFR_invite_to_udb = {

		icon = GFX_decision_SWI_isolate_switzerland

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = {
				NOT = {has_idea = anarchy_idea_max }
				NOT = { original_tag = XNF }
				any_neighbor_country = {
					OR = {
						has_idea = XFR_customs_agreement_idea
						has_idea = XFR_customs_agreement_head_idea
					}
				}
				XFR_no_economic_membership = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			 }
		}

		available = {
			NOT = {has_idea = closed_economy }
			FROM = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				NOT = { has_war_with = ROOT }
				NOT = {has_idea = closed_economy }
			}
		}

		cost = 75

		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				FROM = { any_neighbor_country = { NOT = { has_idea = XFR_customs_agreement_head_idea } } }
				factor = 0
			}
			modifier = {
				has_opinion = { target = FROM value < -19 }
				factor = 0
			}
		}

		visible = {
			has_idea = XFR_customs_agreement_head_idea
			FROM = { XFR_no_economic_membership = yes }
		}

		days_remove = 70

		cancel_trigger = {
			FROM = { XFR_no_economic_membership = no }
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = XFR_events.12 days = 1 random_hours = 12 random_days = 1 }
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_ideas = XFR_customs_agreement_idea
			}
		}
	}
	
	XFR_kick_from_udb = {

		icon = GFX_decision_SWI_isolate_switzerland

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = { has_idea = XFR_customs_agreement_idea }
		}

		available = {
			FROM = {
				OR = {
					AND = {
						NOT = { has_government = ROOT }
						NOT = { has_government = neutrality }
					}
					has_opinion = { target = ROOT value < -19 }
					ROOT = { has_opinion = { target = PREV value < -19 } }
					has_added_tension_amount > 5
					has_wargoal_against = ROOT
				}
				NOT = { is_subject_of = ROOT }
			}
		}

		cost = 50

		priority = 1

		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			FROM = {
				has_idea = XFR_customs_agreement_idea
			}
			is_ai = no
		}

		complete_effect = {
			FROM = {
				country_event = { id = XFR_events.15 }
				remove_ideas = XFR_customs_agreement_idea
				add_opinion_modifier = {
					target = ROOT
    				modifier = XFR_kicked_from_udb
				}
			}
		}
	}

}

XFR_bop_decision_cat = {

	XFR_french_unity_propaganda = {

		icon = GFX_decision_eng_propaganda_campaigns

		allowed = {
			original_tag = XFR
		}

		available = {
			has_completed_focus = XFR_lessen_internal_borders
			NOT = { has_country_flag = XFR_spreading_unity_propaganda }
			any_neighbor_country = {
				NOT = { has_war_with = ROOT }
				hidden_trigger = { NOT = { has_idea = anarchy_idea_max } }
				any_core_state = {
					custom_trigger_tooltip = {
						DEN_is_french_state = yes
						tooltip = XFR_is_french_state_tt
					}
				}
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}

		cost = 75

		priority = 2

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		days_remove = 70

		complete_effect = {
			set_country_flag = XFR_spreading_unity_propaganda
		}

		remove_effect = {
			every_neighbor_country = {
				limit = {
					NOT = { has_war_with = ROOT }
					NOT = { has_idea = anarchy_idea_max }
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					any_core_state = {
						DEN_is_french_state = yes
					}
				}
				add_stability = 0.05
			}
			clr_country_flag = XFR_spreading_unity_propaganda
			add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = -0.05
			}
		}
	}

	XFR_promote_democracy = {

		icon = GFX_decision_SWI_swiss_democratic_tradition_campaign

		allowed = {
			original_tag = XFR
		}

		available = {
			has_completed_focus = XFR_lessen_internal_borders
			NOT = { has_country_flag = XFR_spreading_unity_propaganda }
			any_neighbor_country = {
				NOT = { has_war_with = ROOT }
				hidden_trigger = { NOT = { has_idea = anarchy_idea_max } }
				any_core_state = {
					custom_trigger_tooltip = {
						DEN_is_french_state = yes
						tooltip = XFR_is_french_state_tt
					}
				}
			}
		}

		cost = 75

		priority = 1

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		days_remove = 70

		complete_effect = {
			set_country_flag = XFR_spreading_unity_propaganda
		}

		remove_effect = {
			every_neighbor_country = {
				limit = {
					NOT = { has_war_with = ROOT }
					NOT = { has_idea = anarchy_idea_max }
					any_core_state = {
						DEN_is_french_state = yes
					}
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			clr_country_flag = XFR_spreading_unity_propaganda
			add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = 0.05
			}
		}
	}

	XFR_fund_domestic_industry = {

		icon = GFX_decision_generic_factory

		allowed = {
			original_tag = XFR
		}

		available = {
			any_owned_state = {
				is_fully_controlled_by = ROOT
			}
		}

		cost = 100

		priority = 4

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		days_remove = 35

		days_re_enable = 180

		modifier = {
			consumer_goods_factor = 0.05
		}

		complete_effect = {
		}

		remove_effect = {
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
				}
				random_select_amount = 1
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = -0.05
			}
		}
	}

	XFR_support_neighbours = {

		icon = GFX_decision_generic_fundraising

		allowed = {
			original_tag = XFR
		}

		available = {
			any_neighbor_country = {
				has_government = democratic
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 75

		priority = 3

		fire_only_once = no

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		days_remove = 35

		days_re_enable = 180

		modifier = {
			consumer_goods_factor = 0.05
		}

		complete_effect = {
		}

		remove_effect = {
			add_stability = 0.05
			every_neighbor_country = {
				limit = {
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
				#add_offsite_building = { type = industrial_complex level = 1 }
				every_owned_state = {
					limit = {
						is_fully_controlled_by = PREV
					}
					random_select_amount = 1
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = XFR_sent_support
				}
			}
			add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = 0.05
			}
		}
	}
	

	XFR_promise_swiss_autonomy = {

		icon = GFX_decision_SWI_focus_on_swiss_unity

		allowed = {
			original_tag = XFR
		}

		target_trigger = { 
			FROM = {
				original_tag = XSS
			 }
		}

		available = {
			FROM = {
				has_government = democratic
				NOT = { has_idea = XSS_neutrality_idea }
				any_owned_state = {
					custom_trigger_tooltip = {
						DEN_is_french_state = yes
						tooltip = XFR_is_french_state_tt
					}
				}
			}
		}

		cost = 75

		priority = 10

		fire_only_once = no

		ai_will_do = {
			factor = 1000
		}

		visible = {
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
			FROM = {
				any_owned_state = {
					DEN_is_french_state = yes
				}
				has_completed_focus = XSS_triumph_of_democracy
			}
			
		}

		days_remove = 70

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				every_country = {
					limit = {
						XSS = { is_faction_leader = yes }
						is_in_faction_with = XSS
						NOT = { tag = XSS }
					}
					ROOT = { add_to_faction = PREV }
				}	
				if = {
					limit = { XSS = { NOT = { is_in_faction_with = ROOT } } }
					XSS = { ROOT = { add_to_faction = PREV } }
				}
			}
			custom_effect_tooltip = XFR_promise_swiss_autonomy_tt
		}
	}

	XFR_move_to_paris  = { 
		
		icon = GFX_decision_SOV_place_hq

		allowed = {
			original_tag = XFR
		}

		highlight_states = { 
			highlight_state_targets = {
				state = 16
			}
		}

		available = {
			16 = {
				is_owned_and_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				OR = {
					compliance > 30
					is_core_of = ROOT
				}
			}
		}

		visible = { 
			has_government = democratic
			has_power_balance = { id = XFR_federalists_restaurationists_bop }
		}

		cancel_trigger = {
			NOT = {
				16 = {
					is_fully_controlled_by = ROOT
				}
			}
		}

		fire_only_once = yes

		cost = 100

		priority = 100

		days_remove = 150

		#days_re_enable = 180

        ai_will_do = {
			base = 100
		}
		remove_effect = {
			if = {
				limit = {
					16 = { NOT = { is_core_of = ROOt } }
				}
				16 = { add_core_of = ROOT }
			}
			set_capital  = { state = 16 }
			add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = -0.1
			}
        }
	}

}

XAL_integration = {

	XAL_integrate_rhineland  = { 
		
		icon = GFX_decision_ger_reichskommissariats

		allowed = {
			original_tag = XAL
		}

		highlight_states = { 
			highlight_state_targets = {
				state = 42
				state = 983
				state = 51
			}
		}

		available = {
			42 = {
				is_owned_and_controlled_by = ROOT
			}
			983 = {
				is_owned_and_controlled_by = ROOT
			}
			51 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		visible = { 
			NOT = {
				42 = {
					is_core_of = ROOT
				}
				983 = {
					is_core_of = ROOT
				}
				51 = {
					is_core_of = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = {
				OR = {
					42 = {
						is_owned_and_controlled_by = ROOT
					}
					983 = {
						is_owned_and_controlled_by = ROOT
					}
					51 = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}

		fire_only_once = yes

		cost = 150

		days_remove = 150

		#days_re_enable = 180

        ai_will_do = {
			base = 100
		}
		remove_effect = {
			42 = {
				add_core_of = XAL
			}
			983 = {
				add_core_of = XAL
			}
			51 = {
				add_core_of = XAL
			}
        }
	}

}

XFR_integration = {

	XFR_integrate_alsace_lorraine  = { 
		
		icon = GFX_decision_infiltrate_state

		allowed = {
			original_tag = XFR
		}

		available = {
			XAL = {
				all_core_state = {
					is_owned_and_controlled_by = ROOT
					compliance > 30
				}
			}
		}

		visible = { 
			XAL = {
				any_core_state = {
					is_owned_and_controlled_by = ROOT
				}
			}
			NOT = {
				XAL = {
					all_core_state = {
						is_core_of = ROOT
					}
				}
			}
		}

		cancel_trigger = {
			NOT = {
				XAL = {
					any_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		days_remove = 180

		#days_re_enable = 180

        ai_will_do = {
			base = 100
		}
		remove_effect = {
			every_state = {
				limit = {
					is_core_of = XAL
				}
				add_core_of = ROOT
			}
			XAL_characters_join_XFR = yes
        }
	}

}

prospect_for_resources = {
	XFR_develop_burgundy_aluminum = { #27

		icon = aluminium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
				state = 27
			}
		}

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 27
			controls_state = 27
		}

		visible = {
			has_tech = excavation1
			owns_state = 27
			controls_state = 27
			27 = {
				NOT = {
					has_state_flag = burgundy_aluminium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			base = 0.3
			modifier = {  # Too low PP
				factor = 0.5
					has_political_power < 80
			}
			modifier = { #We have plenty of PP, avanti!
				factor = 3
				has_political_power > 200
			}
			modifier = { #Running out of the stuff, need more!
				factor = 5
				has_resources_in_country = {
					resource = aluminium
					amount < 1
				}
			}
		}
		remove_effect = {
			27 = { set_state_flag = burgundy_aluminium_developed }
			27 = {
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}
	}

}

add_namespace = XFR_events
add_namespace = XFR_news_events


country_event = { # Activate the Centre Crisis
    id = XFR_events.1
    title = XFR_events.1.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.1.desc
    
    trigger = {
		date > 2236.1.7
		date < 2236.1.21
        original_tag = XFR
		country_exists = XFR
	}

    immediate = {
        hidden_effect = {
            country_event = { id = XFR_events.24 days = 30 }
        }
    }

    fire_only_once = yes
    
    option = {
        name = XFR_events.1.a
        set_country_flag = XFR_centre_crisis_timer_activated
        add_stability = -0.02
        custom_effect_tooltip = XFR_events.1.a.tt
    }
}

country_event = { # Centre Crisis escalates
    id = XFR_events.2
    title = XFR_events.2.t
    picture = GFX_report_event_ger_civil_war
    desc = XFR_events.2.desc
    
    is_triggered_only = yes
    fire_only_once = yes
    
    option = {
        name = XFR_events.2.a
        hidden_effect = {
            news_event = { id = XFR_news_events.2 }
            24 = { remove_dynamic_modifier = { modifier = XFR_mutant_state_modifier } }
        }
        unlock_national_focus = XFR_crisis_averted
        remove_ideas = XFR_chaos_in_centre
        add_timed_idea = {
            idea = XFR_chaos_in_centre2
            days = 365
        }
        
       
    }
}

country_event = { # Rhone Border War lost
    id = XFR_events.3
    title = XFR_events.3.t
    picture = GFX_report_event_ger_civil_war
    desc = XFR_events.3.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.3.a
        trigger = {
            original_tag = XFR
        }
    
    }

    option = {
        name = XFR_events.4.a
        trigger = {
            NOT = { original_tag = XFR }
        }
    
    }
}

country_event = { # Rhone Border War won
    id = XFR_events.4
    title = XFR_events.4.t
    picture = GFX_report_event_ger_civil_war
    desc = XFR_events.4.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.4.a
        trigger = {
            original_tag = XFR
        }
        973 = {
            transfer_state_to = XFR
        }
    
    }

    option = {
        name = XFR_events.3.a
        trigger = {
            NOT = { original_tag = XFR }
        }
    
    }
}

country_event = { # recalled military support to XAL
    id = XFR_events.5
    title = XFR_events.5.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.5.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.5.a
    
    }
}

country_event = { # XFR wants to annex XAL
    id = XFR_events.6
    title = XFR_events.6.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.6.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.6.a
        ai_chance = {
            base = 1
            modifier = {
                add = 4
                is_guaranteed_by = XFR
            }
            modifier = {
                factor = 2
                has_opinion = { target = XFR value > 79 }
            }
            modifier = {
                factor = 5
                is_subject_of = XFR
            }
        }
        XFR = { country_event = { id = XFR_events.9 days = 1 } }
        effect_tooltip = {
            XFR = {
                annex_country = {
    	        	target = XAL
    	           	transfer_troops = no
		        }
            }
		    every_state = {
		    	limit = { is_core_of = XAL }
		    	add_core_of = XFR
		    }
        }
        custom_effect_tooltip = GAME_OVER_TT
    }

    option = {
        name = XFR_events.6.b
        ai_chance = {
            base = 1
            modifier = {
                add = 2
                has_idea = neutrality_idea
            }
            modifier = {
                add = 1
                XFR = { NOT = { has_government = ROOT } }
            }
        }
        XFR = { country_event = { id = XFR_events.8 days = 1 } }
        effect_tooltip = {
            XFR = {
            declare_war_on = {
                target = XAL
                type = annex_everything
            }
        }
        }
    }
}

country_event = { # Elections 2237
    id = XFR_events.7
    title = XFR_events.7.t
    picture = GFX_report_event_election_vote
    desc = XFR_events.7.desc

    trigger = {
		tag = XFR
        XFR = { NOT = { has_completed_focus = XFR_dennounce_democracy } }
		date > 2236.12.1
		date < 2237.2.1
	}
    
    is_triggered_only = yes

    immediate = {
        hidden_effect = { complete_national_focus = XFR_elections }
        set_country_flag = XFR_2236_elections_over
    }
    
    option = {
        name = XFR_events.7.a
        ai_chance = {
            base = 1
        }
        hidden_effect = { retire_ideology_leader = democratic }
        add_country_leader_role = {
            character = XFR_jacob_d_amboise
            promote_leader = yes
            country_leader = {
                ideology = socialism
                desc = XFR_jacob_d_amboise_desc
                expire = "3000.1.1"
            traits = { XFR_journalist XFR_federalist_leader }
            }
        }
        set_party_name = {
            ideology = democratic
            long_name = XFR_democratic_party_federalists_long
            name = XFR_democratic_party_federalists
        }   
        set_power_balance = {
            id = XFR_federalists_restaurationists_bop
            left_side = XFR_restaurationist_side
            right_side = XFR_federalist_side
            set_value = 0.15
        }
        custom_effect_tooltip = elections_unlock_branch_tt
        set_country_flag = XFR_first_term_federalists
        hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}
    }

    option = {
        name = XFR_events.7.b
        ai_chance = {
            base = 1
        }
        hidden_effect = { retire_ideology_leader = democratic }
        add_country_leader_role = {
            character = XFR_gabriel_moreau
            promote_leader = yes
            country_leader = {
                ideology = populism
                desc = XFR_gabriel_moreau_desc
                expire = "3000.1.1"
            traits = { XFR_banker XFR_restaurationist_leader }
            }
        }
        set_party_name = {
            ideology = democratic
            long_name = XFR_democratic_party_restauration_long
            name = XFR_democratic_party_restauration
        }       
        set_power_balance = {
            id = XFR_federalists_restaurationists_bop
            left_side = XFR_restaurationist_side
            right_side = XFR_federalist_side
            set_value = -0.15
        }
        custom_effect_tooltip = elections_unlock_branch_tt
        set_country_flag = XFR_first_term_restorationists
        hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}

    }

}

country_event = { # ROOT wants to annex FROM -> FROM declines
    id = XFR_events.8
    title = XFR_events.8.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.8.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.8.a
        ai_chance = {
            base = 1
        }
        if = {
            limit = { FROM = { is_subject_of = ROOT } }
            end_puppet = FROM
        }
        declare_war_on = {
            target = FROM
            type = annex_everything
        }
    }
}

country_event = { # XFR wants to annex XAL -> XAL accepts
    id = XFR_events.9
    title = XFR_events.9.t
    picture = GFX_report_event_generic_peaceful_annexation
    desc = XFR_events.9.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.9.a
        ai_chance = {
            base = 1
        }
        annex_country = {
    		target = XAL
    		transfer_troops = yes
		}
        hidden_effect = {
            delete_unit_template_and_units = {
				division_template = "Brigade des Volontaires Bourguignons"
				disband = yes
			}
        }
		every_state = {
			limit = { is_core_of = XAL }
			add_core_of = XFR
		}
        XAL_characters_join_XFR = yes
    }
}

country_event = { # XAL wants to become XFR puppet
    id = XFR_events.10
    title = XFR_events.10.t
    picture = GFX_report_event_generic_peaceful_annexation
    desc = XFR_events.10.desc
    
    is_triggered_only = yes
    
    option = {
        name = XFR_events.10.a
        ai_chance = {
            base = 100
        }
        give_guarantee = XAL
        if = {
			limit = { XFR = { has_government = fascism } }
            every_other_country = {
                limit = {
                    is_subject_of = XAL
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_reichsprotectorate
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
				XFR = {
					set_autonomy = {
    					target = XAL
    					autonomous_state = autonomy_reichsprotectorate
    					end_wars = no
    					end_civil_wars = no
					}
            
				}
			}
		if = {
			limit = { XFR = { NOT = { has_government = fascism } } }
            every_other_country = {
                limit = {
                    is_subject_of = XAL
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_puppet
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
			XFR = {
				set_autonomy = {
    				target = XAL
    				autonomous_state = autonomy_puppet
    				end_wars = no
    				end_civil_wars = no
				}
                
			}
		}
    }

    option = {
        name = XFR_events.10.b
        ai_chance = {
            base = 1
        }
        XAL = { country_event = { id = XFR_events.11 days = 1 } }
    }
}

country_event = { # XFR rejects (WHY?)
    id = XFR_events.11
    title = XFR_events.11.t
    picture = GFX_report_event_generic_peaceful_annexation
    desc = XFR_events.11.desc
    
    is_triggered_only = yes

    option = {
        name = XFR_events.11.a
        ai_chance = {
            base = 1
        }
        add_opinion_modifier = {
            target = XFR
            modifier = XFR_refused_to_protect
        }
    }
}

country_event = { # XFR proposes easing of customs barrier
    id = XFR_events.12
    title = XFR_events.12.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.12.desc
    
    is_triggered_only = yes

    option = { # accept
        name = XFR_events.12.a
        ai_chance = {
            base = 1
            modifier = {
                factor = 2
                has_government = democratic
            }
            modifier = {
                add = 3
                has_opinion = { target = XFR value > 19 }
            }
            modifier = {
                add = 2
                has_opinion = { target = XFR value > 49 }
            }
            modifier = {
                add = 5
                is_ally_with = XFR
            }
            modifier = {
                add = 1
                XFR = { is_faction_leader = yes }
            }
            modifier = {
                factor = 1000
                is_subject_of = XFR
            }
        }
        XFR = { country_event = { id = XFR_events.13 days = 2 random_hours = 12 random_days = 1 } }
        effect_tooltip = {
            XFR = {
                add_opinion_modifier = {
                    target = ROOT
                    modifier = XFR_accepted_customs
                }
            }
        }
        add_ai_strategy = {
            type = befriend
            id = XFR
            value = 50
        }
        add_ai_strategy = {
            type = equipment_market_trade_desire
            value = 50
        }
        add_ideas = XFR_customs_agreement_idea
        hidden_effect = {
				if = {
           		    limit = {
            	    	XFR = { NOT = { has_idea = XFR_customs_agreement_head_idea } }
            	    }
            	    XFR = { add_ideas = XFR_customs_agreement_head_idea }
                    every_country = {
                        limit = { is_subject_of = XFR }
                        add_ideas = XFR_customs_agreement_idea
                    }
                    news_event = { id = XFR_news_events.4 }
        		}
			}
    }
    option = { # decline
        name = XFR_events.12.b
        ai_chance = {
            base = 2
        }
        XFR = { country_event = { id = XFR_events.14 days = 2 random_hours = 12 random_days = 1 } }
        effect_tooltip = {
            XFR = {
                add_opinion_modifier = {
                    target = ROOT
                    modifier = XFR_rejected_customs
                }
            }
        }
    }
}

country_event = { # country accepts customs agreement
    id = XFR_events.13
    title = XFR_events.13.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.13.desc
    
    is_triggered_only = yes

    option = {
        name = XFR_events.13.a
        ai_chance = {
            base = 1
        }
        add_opinion_modifier = {
            target = FROM
            modifier = XFR_accepted_customs
        }
    }
}

country_event = { # country rejects customs agreement
    id = XFR_events.14
    title = XFR_events.14.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.14.desc
    
    is_triggered_only = yes

    option = {
        name = XFR_events.14.a
        ai_chance = {
            base = 1
        }
        add_opinion_modifier = {
            target = FROM
            modifier = XFR_rejected_customs
        }
    }
}

country_event = { # country kicked from UDB
    id = XFR_events.15
    title = XFR_events.15.t
    picture = GFX_report_event_generic_sign_treaty1
    desc = XFR_events.15.desc
    
    is_triggered_only = yes

    option = {
        name = XFR_events.15.a
        ai_chance = {
            base = 1
        }
    }
}

country_event = { # XFR notification about Nationalist Coup
    id = XFR_events.16
    title = XFR_events.16.t
    picture = GFX_report_event_fascist_speech
    desc = XFR_events.16.desc
    
    is_triggered_only = yes

    option = {
        name = XFR_events.16.a
        ai_chance = {
            base = 1
        }
        add_opinion_modifier = {
            target = XAL
            modifier = XFR_isolate_fascists
        }
        add_ai_strategy = {
            type = antagonize
            id = XAL
            value = -100
        }
        upgrade_economy_law = yes
        add_war_support = 0.05
        send_embargo = XAL
    }
    option = {
        name = XFR_events.16.b
        ai_chance = {
            base = 1
        }
        add_opinion_modifier = {
            target = XAL
            modifier = XFR_isolate_fascists
        }
        add_ai_strategy = {
            type = antagonize
            id = XAL
            value = -100
        }
        add_political_power = 200
        send_embargo = XAL
    }
}

country_event = { # Paris Conference: Choose Goal
    id = XFR_events.17
    title = XFR_events.17.t
    picture = GFX_report_event_SWE_summer_government
    desc = XFR_events.17.desc
    
    is_triggered_only = yes

    option = { # demand puppet
        name = XFR_events.17.a
        ai_chance = {
            base = 10
        }
        set_global_flag = XFR_paris_con_puppet
        add_power_balance_value = {
			id = XFR_federalists_restaurationists_bop
			value = 0.05
		}
        XPR = { country_event = { id = XFR_events.18 days = 1 } }
        custom_effect_tooltip = if_they_accept_tt
        effect_tooltip = {
                XFR = {
		    	    set_autonomy = {
    		          	target = XPR
    		        	autonomous_state = autonomy_integrated_puppet
    		    	    end_wars = no
    		    	    end_civil_wars = no
    		    	}
	    	    }
                every_other_country = {
                limit = {
                    is_subject_of = XPR
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_puppet
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
            }
        
    }
    option = { # demand puppet and direct control of paris
        name = XFR_events.17.b
        ai_chance = {
            base = 5
        }
        set_global_flag = XFR_paris_con_puppet
        set_global_flag = XFR_paris_con_transfer
        XPR = { country_event = { id = XFR_events.18 days = 1 } }
        custom_effect_tooltip = if_they_accept_tt
        effect_tooltip = { 16 = { transfer_state_to = ROOT add_core_of = ROOT } }
        effect_tooltip = {
            every_other_country = {
                limit = {
                    is_subject_of = ROOT
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_puppet
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
                XFR = {
		    	    set_autonomy = {
    		          	target = XPR
    		        	autonomous_state = autonomy_integrated_puppet
    		    	    end_wars = no
    		    	    end_civil_wars = no
    		    	}
	    	    }
                
            }
    }

    option = { # demand direct control of paris
        name = XFR_events.17.c
        ai_chance = {
            base = 1
        }
        set_global_flag = XFR_paris_con_transfer
        add_power_balance_value = {
			id = XFR_federalists_restaurationists_bop
			value = -0.05
		}
        XPR = { country_event = { id = XFR_events.18 days = 1 } }
        custom_effect_tooltip = if_they_accept_tt
        effect_tooltip = { 16 = { transfer_state_to = ROOT add_core_of = ROOT } }
        
    }
}

country_event = { # Paris Conference: Message for XPR
    id = XFR_events.18
    title = XFR_events.18.t
    picture = GFX_report_event_SWE_summer_government
    desc = XFR_events.18.desc
    
    is_triggered_only = yes

    option = { # accept
        name = XFR_events.18.a
        ai_chance = {
            base = 2
            modifier = {
                NOT = { has_global_flag = XFR_paris_con_transfer }
                add = 1
            }
            modifier = {
                add = 2
                ROOT = { is_guaranteed_by = XFR }
            }
            modifier = {
                factor = 1.5
                has_opinion = { target = XFR value > 49 }
            }
            modifier = {
                add = 2
                has_idea = XFR_customs_agreement_idea
            }
            modifier = {
                add = 1
                democratic > 0.24
            }
        }
        if = {
            limit = {
                has_global_flag = XFR_paris_con_transfer
            }
            effect_tooltip = { 16 = { transfer_state_to = XFR add_core_of = XFR } }
        }
        if = {
            limit = {
                has_global_flag = XFR_paris_con_puppet
            }
	    	effect_tooltip = {
                every_other_country = {
                limit = {
                    is_subject_of = ROOT
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_puppet
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
                XFR = {
		    	    set_autonomy = {
    		          	target = XPR
    		        	autonomous_state = autonomy_integrated_puppet
    		    	    end_wars = no
    		    	    end_civil_wars = no
    		    	}
	    	    }
                
            }
        }
        XFR = { country_event = { id = XFR_events.19 days = 1 } }
    }
    option = { # reject
        name = XFR_events.18.b
        ai_chance = {
            base = 2
            modifier = {
                has_global_flag = XFR_paris_con_transfer
                add = 5
            }
        }
        XFR = { country_event = { id = XFR_events.20 days = 1 } }
    }
}

country_event = { # Paris Conference: XPR accepts
    id = XFR_events.19
    title = XFR_events.19.t
    picture = GFX_report_event_generic_sign_treaty3
    desc = XFR_events.19.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.19.a
        ai_chance = {
            base = 1
        }
        if = {
            limit = {
                has_global_flag = XFR_paris_con_transfer
            }
            16 = {
                transfer_state_to = ROOT 
                add_core_of = ROOT
            }
        }
        if = {
            limit = {
                has_global_flag = XFR_paris_con_puppet
            }
            every_other_country = {
                limit = {
                    is_subject_of = FROM
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_puppet
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
	    	XFR = {
		    	set_autonomy = {
    		    	target = XPR
    		       	autonomous_state = autonomy_integrated_puppet
    			    end_wars = no
    			    end_civil_wars = no
    			}
	    	}
            
        }
        add_stability = 0.05
    }
}

country_event = { # Paris Conference: XPR rejects
    id = XFR_events.20
    title = XFR_events.20.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.20.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.20.a
        ai_chance = {
            base = 1
        }
        create_wargoal = {
			target = XPR
			type = take_state_focus
			generator = { 16 }
		}
        add_war_support = 0.05
    }
}

country_event = { # Fires after XFR_support_the_population
    id = XFR_events.21
    title = XFR_events.21.t
    picture = GFX_report_event_generic_train
    desc = XFR_events.21.desc
    
    is_triggered_only = yes

    trigger = {
        NOT = { has_government = fascism }
    }

    option = { 
        name = XFR_events.21.a
        ai_chance = {
            base = 1
        }
        every_owned_state = {
            random_select_amount = 3
            add_manpower = 810705
        }
        add_stability = -0.05
        
    }
}

country_event = { # Generic Invite to Faction
    id = XFR_events.22
    title = XFR_events.22.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.22.desc
    
    is_triggered_only = yes

    trigger = {
        NOT = {
            has_war_with = FROM
        }
        FROM = { is_faction_leader = yes }
    }

    option = { 
        name = XFR_events.22.a
        ai_chance = {
            base = 1
            modifier = {
                factor = 0
                NOT = { has_government = FROM }
                NOT = { has_government = neutrality }
            }
            modifier = {
                add = 1
                has_opinion = { target = FROM value > 39 }
            }
            modifier = {
                add = 3
                is_guaranteed_by = FROM
            }
            modifier = {
                add = 2
                OR = {
                    has_military_access_to = FROM
                    FROM = { has_military_access_to = ROOT }
                }
            }
            modifier = {
                add = 1000000
                original_tag = XSS
            }
        }
        FROM = { country_event = { id = XFR_events.35 days = 1 } }
        FROM = { add_to_faction = ROOT }
        if = {
            limit = {
                original_tag = XSS
                is_faction_leader = yes
            }
            every_other_country = {
		    	limit = { is_in_faction_with = ROOT }
		    	FROM = { add_to_faction = PREV }
		    }
        }
    }
    option = { 
        name = XFR_events.22.b
        ai_chance = {
            base = 1
            modifier = {
                factor = 0
                original_tag = XSS
            }
        }
        FROM = { country_event = { id = XFR_events.23 days = 1 } }
    }
}

country_event = { # Generic Invite to Faction / Decline
    id = XFR_events.23
    title = XFR_events.23.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.23.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.23.a
        ai_chance = {
            base = 1
        }
        
    }
}

country_event = { # March in Clamecy
    id = XFR_events.24
    title = XFR_events.24.t
    picture = GFX_report_event_eng_blackshirt_march
    desc = XFR_events.24.desc
    
    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            country_event = { id = XFR_events.25 days = 7 }
        }
    }

    option = { 
        name = XFR_events.24.a
        ai_chance = {
            base = 1
        }
        trigger = {
            NOT = { has_completed_focus = XFR_dennounce_democracy }
        }
        add_ideas = XFR_fascist_tensions
        add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
        add_stability = -0.05
    }

    option = { 
        name = XFR_events.24.b
        ai_chance = {
            base = 1
        }
        trigger = {
            has_completed_focus = XFR_dennounce_democracy
        }
        add_ideas = XFR_fascist_tensions
        add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
        add_stability = -0.05
        
    }
}

country_event = { # Anti-Fascists organise
    id = XFR_events.25
    title = XFR_events.25.t
    picture = GFX_report_event_spr_anarchist_uprising
    desc = XFR_events.25.desc
    
    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            country_event = { id = XFR_events.26 days = 7 }
        }
    }

    option = { 
        name = XFR_events.25.a
        ai_chance = {
            base = 1
        }
        trigger = {
            NOT = { has_completed_focus = XFR_dennounce_democracy }
        }
        18 = {
            set_demilitarized_zone = yes
            add_dynamic_modifier = {
				modifier = XFR_anarchists_state_modifier
			}
        }
        set_party_name = {
            ideology = communism
            long_name = XFR_communism_party_real_long
            name = XFR_communism_party_real
        }   
        XFR_anarchists = { add_country_leader_trait = XFR_anti_fascists }
        add_popularity = {
			ideology = communism
			popularity = 0.1
		}
        add_stability = -0.05
        
    }

    option = { 
        name = XFR_events.25.b
        ai_chance = {
            base = 1
        }
        trigger = {
            has_completed_focus = XFR_dennounce_democracy
        }
        18 = {
            set_demilitarized_zone = yes
            add_dynamic_modifier = {
				modifier = XFR_anarchists_state_modifier
			}
        }
        set_party_name = {
            ideology = communism
            long_name = XFR_communism_party_real_long
            name = XFR_communism_party_real
        }   
        XFR_anarchists = { add_country_leader_trait = XFR_anti_fascists }
        add_popularity = {
			ideology = communism
			popularity = 0.1
		}
        add_stability = -0.05
        
    }
}

country_event = { # The Herzog speaks
    id = XFR_events.26
    title = XFR_events.26.t
    picture = GFX_report_event_generic_sign_treaty1
    desc = XFR_events.26.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.26.a
        ai_chance = {
            base = 1
        }
        add_ideas = XFR_herzogs_speeches
        add_popularity = {
			ideology = neutrality
			popularity = 0.15
		}
        add_stability = -0.05
        set_country_flag = XFR_herzog_unlocked
        custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = herzog_julius
    }
}

country_event = { # Burgundy wants to integrate us into France
    id = XFR_events.27
    title = XFR_events.30.t
    picture = GFX_report_event_generic_sign_treaty1
    desc = XFR_events.30.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.30.a
        ai_chance = {
            base = 1
        }
        effect_tooltip = {
            FROM = {
                annex_country = {
    		        target = ROOT
    		        transfer_troops = no
		        }
            }
        }
        custom_effect_tooltip = GAME_OVER_TT
        
    }
    option = { 
        name = XFR_events.30.b
        ai_chance = {
            base = 1
            modifier = {
                factor = 0
                is_ally_with = XFR
            }
        }
        if = {
            limit = { ROOT = { is_subject_of = FROM } }
            FROM = { end_puppet = ROOT }
        }
        if = {
            limit = { ROOT = { is_in_faction_with = FROM } }
            ROOT = { leave_faction = yes }
        }
        effect_tooltip = {
            FROM = {
                create_wargoal = {
                    target = ROOT
                    type = annex_everything
                }
            }
        }

        
    }
}

country_event = { # Burgundy wants to integrate us into France -> accepted
    id = XFR_events.28
    title = XFR_events.28.t
    picture = GFX_report_event_generic_sign_treaty1
    desc = XFR_events.28.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.28.a
        ai_chance = {
            base = 1
        }
        annex_country = {
    	    target = FROM
    		transfer_troops = no
		}
        
    }
}

country_event = { # Burgundy wants to integrate us into France -> rejected
    id = XFR_events.29
    title = XFR_events.29.t
    picture = GFX_report_event_generic_sign_treaty1
    desc = XFR_events.29.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.29.a
        ai_chance = {
            base = 1
        }
        create_wargoal = {
            target = FROM
            type = annex_everything
        }
        
    }
}

country_event = { # XFR demands XBR subjugation
    id = XFR_events.30
    title = XFR_events.30.t
    picture = GFX_report_event_generic_sign_treaty1
    desc = XFR_events.30.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.30.a
        ai_chance = {
            base = 1
            modifier = {
                is_ally_with = FROM
                factor = 0
            }
        } 
        FROM = { country_event = { id = XFR_events.8 days = 1 } }
        effect_tooltip = {
            FROM = {
                declare_war_on = {
                    type = annex_everything
                    target = ROOT
                }
            }  
        }
        
    }
    option = { 
        name = XFR_events.30.b
        ai_chance = {
            base = 1
        }
        FROM = { country_event = { id = XFR_events.31 days = 1 } }
        effect_tooltip = {
            FROM = {
                annex_country = {
    		        target = ROOT
    		        transfer_troops = no
		        }
            }
        }
        custom_effect_tooltip = GAME_OVER_TT
    }
}

country_event = { # XFR demands XBR subjugation -> XBR accepts
    id = XFR_events.31
    title = XFR_events.31.t
    picture = GFX_report_event_generic_peaceful_annexation
    desc = XFR_events.31.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.31.a
        ai_chance = {
            base = 1
        } 
        annex_country = {
    		target = FROM
    		transfer_troops = no
		}
        
    }
}

country_event = { # XFR wants to protect Switzerland
    id = XFR_events.32
    title = XFR_events.32.t
    picture = GFX_report_event_generic_sign_treaty3
    desc = XFR_events.32.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.32.a
        ai_chance = {
            base = 1000
        } 
        XFR = { country_event = { id = XFR_events.33 days = 1 } }
        effect_tooltip = {
            every_other_country = {
                limit = {
                    is_subject_of = ROOT
                }
                XFR = { 
                       set_autonomy = {
    			    	target = PREV
    				    autonomous_state = autonomy_puppet
    			    	end_wars = no
    			    	end_civil_wars = no
				    }
                }
            }
            XFR = {
				set_autonomy = {
    				target = XSS
    				autonomous_state = autonomy_puppet
    				end_wars = no
    				end_civil_wars = no
				}
			}
            add_ideas = XFR_swiss_protectorate
        }
        custom_effect_tooltip = XFR_loads_generic_focus_tree_tt
    }
    option = { 
        name = XFR_events.32.b
        ai_chance = {
            base = 0
        } 
        XFR = { country_event = { id = XFR_events.34 days = 1 } }
        effect_tooltip = {
            XFR = {
				add_opinion_modifier = {
                    target = XSS
                    modifier = XFR_declined_protection
                }
                create_wargoal = {
                    target = FROM
                    type = puppet_wargoal_focus
                }
			}
        }
        add_political_power = -100
        add_stability = -0.15
    }
}

country_event = { # XFR wants to protect Switzerland -> Swiss accept
    id = XFR_events.33
    title = XFR_events.33.t
    picture = GFX_report_event_generic_peaceful_annexation
    desc = XFR_events.33.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.33.a
        ai_chance = {
            base = 1
        } 
        every_other_country = {
            limit = {
                is_subject_of = FROM
            }
            XFR = { 
                set_autonomy = {
    			    target = PREV
    			    autonomous_state = autonomy_puppet
    			    end_wars = no
    			    end_civil_wars = no
				}
            }
        }
        set_autonomy = {
    		target = XSS
    		autonomous_state = autonomy_puppet
    		end_wars = no
    		end_civil_wars = no
		}
        hidden_effect = {
            XSS = { load_focus_tree = generic_focus }
        }
        XSS = { add_ideas = XFR_swiss_protectorate }
    }
}

country_event = { # XFR wants to protect Switzerland -> Swiss decline
    id = XFR_events.34
    title = XFR_events.34.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.31.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.34.a
        ai_chance = {
            base = 1
        } 
        add_opinion_modifier = {
            target = FROM
            modifier = XFR_declined_protection
        }
        create_wargoal = {
            target = FROM
            type = puppet_wargoal_focus
        }
    }
}

country_event = { # generic Faction invite accepted
    id = XFR_events.35
    title = XFR_events.35.t
    picture = GFX_report_event_generic_sign_treaty2
    desc = XFR_events.35.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.35.a
        ai_chance = {
            base = 1
        } 
        effect_tooltip = {
            add_to_faction = FROM
            if = {
                limit = {
                    FROM = {
                        original_tag = XSS
                        is_faction_leader = yes
                    }
                }
            every_other_country = {
		    	limit = { is_in_faction_with = FROM }
		    	add_to_faction = PREV
		    }
        }
        }
    }
}

country_event = { # Nationalists sell Centre
    id = XFR_events.36
    title = XFR_events.36.t
    picture = GFX_report_event_generic_sign_treaty3
    desc = XFR_events.36.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.36.a
        ai_chance = {
            base = 1
        } 
        add_equipment_to_stockpile = {
    		type = infantry_equipment
    		amount = -10000
		}
        custom_effect_tooltip = XFR_when_civil_war_starts_tt
        effect_tooltip = {
            XFR = {
                add_equipment_to_stockpile = {
    		    	type = infantry_equipment
    		    	amount = 10000
    		    	producer = XAQ
			    }
            }
            24 = { transfer_state_to = ROOT }
        }
        
    }
}

country_event = { # Nationalists sell Centre Pt. 2
    id = XFR_events.37
    title = XFR_events.37.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.37.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.37.a
        ai_chance = {
            base = 1
        } 
        effect_tooltip = {
            XFR = {
                add_equipment_to_stockpile = {
    		    	type = infantry_equipment
    		    	amount = 10000
    		    	producer = ROOT
			    }
            }
        }
        24 = { transfer_state_to = ROOT }
        hidden_effect = {
            24 = { set_demilitarized_zone = yes }
            add_opinion_modifier = {
                target = XFR
                modifier = XFR_fascist_cooperation
            }
        }
        
    }
}

country_event = { # Nationalists sell Centre Pt. 3
    id = XFR_events.38
    title = XFR_events.38.t
    picture = GFX_report_event_military_planning
    desc = XFR_events.38.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.38.a
        ai_chance = {
            base = 1
        } 
        add_equipment_to_stockpile = {
    		type = infantry_equipment
    		amount = 10000
    		producer = XAQ
		}
        XAQ = { country_event = { id = XFR_events.37 days = 1 } }
        effect_tooltip = {
            24 = { transfer_state_to = XAQ }
        }
        hidden_effect = {
            add_opinion_modifier = {
                target = XAQ
                modifier = XFR_fascist_cooperation
            }
        }
        
    }
}

country_event = { # Coronation
    id = XFR_events.39
    title = XFR_events.39.t
    picture = GFX_report_event_german_reichstag_gathering
    desc = XFR_events.39.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.39.a
        ai_chance = {
            base = 1
        } 
        add_stability = 0.1
        swap_ruler_traits = { remove = XFR_herzog_von_burgund add = XFR_herzog_von_burgund2 }
        set_character_name = {
	        character = XFR_herzog_julius
	        name = XFR_herzog_julius_name2
        }
        if = {
            limit = {
                XAL = { has_government = fascism }
            }
            XAL = { country_event = { id = XFR_events.40 days = 1 } }
            custom_effect_tooltip = XAL_may_join_us_tt
        }
        
    }
}

country_event = { # Coronation: Fascist Alsace Reaction
    id = XFR_events.40
    title = XFR_events.40.t
    picture = GFX_report_event_german_reichstag_gathering
    desc = XFR_events.40.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.40.a
        ai_chance = {
            base = 100
        } 
        XFR = { country_event = { id = XFR_events.41 days = 1 } }
        effect_tooltip = {
            XFR = {
               annex_country = {
                   target = XAL
                   transfer_troops = yes
               }
            }
            every_state = {
		    	limit = { is_core_of = XAL }
		    	add_core_of = XFR
		    }
        }
        custom_effect_tooltip = GAME_OVER_TT
        
    }
    option = { 
        name = XFR_events.40.b
        ai_chance = {
            base = 0
        } 
        add_political_power = -1000
        add_stability = -0.25
    }
}

country_event = { # Coronation: Positive Fascist Alsace Reaction
    id = XFR_events.41
    title = XFR_events.41.t
    picture = GFX_report_event_german_reichstag_gathering
    desc = XFR_events.41.desc
    
    is_triggered_only = yes

    option = { 
        name = XFR_events.41.a
        ai_chance = {
            base = 1
        } 
        annex_country = {
            target = XAL
            transfer_troops = yes
        }
        every_state = {
			limit = { is_core_of = XAL }
			add_core_of = XFR
		}
        XAL_characters_join_XFR = yes
        hidden_effect = {
            delete_unit_template_and_units = {
				division_template = "Brigade des Volontaires Bourguignons"
				disband = yes
			}
        }
        
    }
}

country_event = { # Elections 2241
    id = XFR_events.42
    title = XFR_events.42.t
    picture = GFX_report_event_election_vote
    desc = XFR_events.42.desc

    trigger = {
		tag = XFR
        has_country_flag = XFR_2236_elections_over
		date > 2240.12.1
		date < 2241.2.1
	}
    
    is_triggered_only = yes

    immediate = {
        set_country_flag = XFR_2240_elections_over
    }
    
    option = {
        name = XFR_events.42.a
        ai_chance = {
            base = 1
        }
        hidden_effect = { retire_ideology_leader = democratic }
        add_country_leader_role = {
            character = XFR_orianne_monteil
            promote_leader = yes
            country_leader = {
                ideology = socialism
                expire = "3000.1.1"
            traits = { XFR_archeologist XFR_federalist_leader }
            }
        }
        set_party_name = {
            ideology = democratic
            long_name = XFR_democratic_party_federalists_long
            name = XFR_democratic_party_federalists
        }    
        if = {
            limit = { has_power_balance = { id = XFR_federalists_restaurationists_bop } }
            add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = 0.1
			}
        }
        custom_effect_tooltip = elections_unlock_branch_tt
        set_country_flag = XFR_second_term_federalists
        hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}
    }

    option = {
        name = XFR_events.42.b
        ai_chance = {
            base = 1
        }
        hidden_effect = { retire_ideology_leader = democratic }
        add_country_leader_role = {
            character = XFR_leonard_desgrais
            promote_leader = yes
            country_leader = {
                ideology = conservatism
                expire = "3000.1.1"
            traits = { XFR_the_old_marshal XFR_restaurationist_leader }
            }
        }
        set_party_name = {
            ideology = democratic
            long_name = XFR_democratic_party_restauration_long
            name = XFR_democratic_party_restauration
        }      
        if = {
            limit = { has_power_balance = { id = XFR_federalists_restaurationists_bop } }
            add_power_balance_value = {
				id = XFR_federalists_restaurationists_bop
				value = -0.1
			}
        }
        custom_effect_tooltip = elections_unlock_branch_tt
        set_country_flag = XFR_second_term_restorationists
        hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}

    }

}

country_event = { # Elections 2245
    id = XFR_events.43
    title = XFR_events.43.t
    picture = GFX_report_event_election_vote
    desc = XFR_events.43.desc

    trigger = {
		tag = XFR
        has_country_flag = XFR_2240_elections_over
		date > 2244.12.1
		date < 2245.2.1
	}
    
    is_triggered_only = yes

    immediate = {
        set_country_flag = XFR_2244_elections_over
    }
    
    option = {
        name = XFR_events.43.a
        ai_chance = {
            base = 1
        }
        if = {
            limit = { has_power_balance = { id = XFR_federalists_restaurationists_bop } }
            if = {
				limit = { has_country_leader_with_trait = XFR_federalist_leader }
				add_power_balance_value = {
					id = XFR_federalists_restaurationists_bop
					value = 0.1
				}
                set_country_flag = XFR_third_term_federalists
			}
			if = {
				limit = { has_country_leader_with_trait = XFR_restaurationist_leader }
				add_power_balance_value = {
					id = XFR_federalists_restaurationists_bop
					value = -0.1
				}
                set_country_flag = XFR_third_term_restorationists
			}
        }
        #custom_effect_tooltip = elections_unlock_branch_tt
        hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}
        custom_effect_tooltip = XFR_no_more_elections_tt
    }

    option = {
        name = XFR_events.43.b
        ai_chance = {
            base = 1
        }
        hidden_effect = { retire_ideology_leader = democratic }
        add_country_leader_role = {
            character = XFR_cat
            promote_leader = yes
            country_leader = {
                ideology = XFR_catist_democracy
                expire = "3000.1.1"
            traits = { XFR_catist_representative }
            }
        }
        set_party_name = {
            ideology = democratic
            long_name = XFR_democratic_party_catism_long
            name = XFR_democratic_party_catism
        }       
        custom_effect_tooltip = elections_unlock_branch_tt
        set_country_flag = XFR_third_term_cats
        hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}
        custom_effect_tooltip = XFR_no_more_elections_tt
    }

}

###############
# NEWS EVENTS #
###############

news_event = { # Centre Crisis resolved
    id = XFR_news_events.1
    title = XFR_news_events.1.t
    picture = GFX_news_event_military_planning
    desc = XFR_news_events.1.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.1.a
    }

}

news_event = { # Centre Crisis escalates
    id = XFR_news_events.2
    title = XFR_news_events.2.t
    picture = GFX_news_event_nuke
    desc = XFR_news_events.2.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.2.a
    }

}

news_event = { # Coup in Alsace
    id = XFR_news_events.3
    title = XFR_news_events.3.t
    picture = GFX_news_event_fascist_gathering
    desc = XFR_news_events.3.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.3.a
        trigger = {
            NOT = { has_government = fascism }
            NOT = { tag = XFR }
            NOT = { tag = XAL }
            NOT = { tag = XRP }
        }
    }
    option = {
        name = XFR_news_events.3.b
        trigger = {
            has_government = fascism
            NOT = { tag = XFR }
            NOT = { tag = XAL }
            NOT = { tag = XRP }
        }
    }
    option = {
        name = XFR_news_events.3.c
        trigger = {
            tag = XFR
        }
    }

    option = {
        name = XFR_news_events.3.d
        trigger = {
            tag = XAL
        }
        42 = { add_claim_by = ROOT }
        983 = { add_claim_by = ROOT }
        add_opinion_modifier = {
			target = XRP
    		modifier = XFR_hostility
		}
    }

    option = {
        name = XFR_news_events.3.d
        trigger = {
            tag = XRP
        }
        effect_tooltip = {
            42 = { add_claim_by = XAL }
        983 = { add_claim_by = XAL }
        }
        add_ai_strategy = {
            type = consider_weak
            id = XRP
            value = 50
        }
        add_opinion_modifier = {
			target = XAL
    		modifier = XFR_hostility
		}
    }

}

news_event = { # UDB announced
    id = XFR_news_events.4
    title = XFR_news_events.4.t
    picture = GFX_news_event_generic_sign_treaty2
    desc = XFR_news_events.4.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.4.a
        trigger = { NOT = { OR = { tag = XFR tag = XNM } } }
    }
    option = {
        name = XFR_news_events.4.b
        trigger = { tag = XNM }
    }
    option = {
        name = XFR_news_events.4.c
        trigger = { tag = XFR }
    }

}

news_event = { # Centre Excursion
    id = XFR_news_events.5
    title = XFR_news_events.5.t
    picture = GFX_news_event_military_planning
    desc = XFR_news_events.5.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.5.a
        trigger = { NOT = { tag = XFR } }
    }
    option = {
        name = XFR_news_events.5.b
        trigger = { tag = XFR }
    }

}

news_event = { # Democracy prevails!
    id = XFR_news_events.6
    title = XFR_news_events.6.t
    picture = GFX_news_event_election_vote
    desc = XFR_news_events.6.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.6.a
        trigger = { NOT = { tag = XFR } }
    }
    option = {
        name = XFR_news_events.6.b
        trigger = { tag = XFR }
    }

}

news_event = { # France Reunification Announcement
    id = XFR_news_events.7
    title = XFR_news_events.7.t
    picture = GFX_news_event_051
    desc = XFR_news_events.7.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.7.a
        trigger = {
            NOT = { tag = XFR }
            any_core_state = {
                DEN_is_french_state = yes
            }
        }
    }
    option = {
        name = XFR_news_events.7.b
        trigger = {
            NOT = { tag = XFR }
            NOT = {
                any_core_state = {
                   DEN_is_french_state = yes
                }
            }
        }
    }
    option = {
        name = XFR_news_events.7.c
        trigger = { tag = XFR }
    }

}

news_event = { # France Reunified!
    id = XFR_news_events.8
    title = XFR_news_events.8.t
    picture = GFX_news_event_051
    desc = XFR_news_events.8.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.8.a
        trigger = { NOT = { tag = XFR } }
    }
    option = {
        name = XFR_news_events.8.b
        trigger = { tag = XFR }
    }

}

news_event = { # Civil War!
    id = XFR_news_events.9
    title = XFR_news_events.9.t
    picture = GFX_news_event_ger_civil_war
    desc = XFR_news_events.9.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.9.a
        trigger = {
            NOT = { tag = XFR }
            has_government = fascism
        }
    }
    option = {
        name = XFR_news_events.9.b
        trigger = {
            NOT = { tag = XFR }
            NOT = { has_government = fascism }
        }
    }
    option = {
        name = XFR_news_events.9.c
        trigger = { tag = XFR }
    }

}

news_event = { # Coronation
    id = XFR_news_events.10
    title = XFR_news_events.10.t
    picture = GFX_news_event_german_speech
    desc = XFR_news_events.10.desc
    
    
    is_triggered_only = yes

    major = yes
    
    option = {
        name = XFR_news_events.10.a
    }

}